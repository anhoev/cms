{"version":3,"sources":["webpack:///webpack/bootstrap 1ff4140320d75aebfab3","webpack:///./app.module.js","webpack:///delegated ./node_modules/jquery/dist/jquery.js from dll-reference lib_lib","webpack:///external \"lib_lib\"","webpack:///delegated ./node_modules/angular/index.js from dll-reference lib_lib","webpack:///delegated ./node_modules/angular-i18n/de-de.js from dll-reference lib_lib","webpack:///delegated ./node_modules/printthis/printThis.js from dll-reference lib_lib","webpack:///delegated ./node_modules/lodash/lodash.js from dll-reference lib_lib","webpack:///delegated ./node_modules/lodash/unionWith.js from dll-reference lib_lib","webpack:///delegated ./node_modules/lodash/pickBy.js from dll-reference lib_lib","webpack:///delegated ./node_modules/moment/moment.js from dll-reference lib_lib","webpack:///delegated ./node_modules/json-fn/jsonfn.js from dll-reference lib_lib","webpack:///delegated ./node_modules/bootstrap/dist/js/bootstrap.js from dll-reference lib_lib","webpack:///./components/components.module.js","webpack:///./components/cms-editable/module.js","webpack:///delegated ./node_modules/angular-ui-bootstrap/index.js from dll-reference lib_lib","webpack:///./components/cms-editable/editable-formly.html","webpack:///./components/formly/module.js","webpack:///delegated ./node_modules/angular-filter/index.js from dll-reference lib_lib","webpack:///./components/formly/config.js","webpack:///./components/formly/panel.html","webpack:///./components/formly/repeatSection.html","webpack:///./components/formly/repeat-section.controller.js","webpack:///./components/formly/tree.template.html","webpack:///./components/formly/tree.controller.js","webpack:///./components/formly/ref.select.html","webpack:///./components/formly/ref.controller.js","webpack:///./common/cms/QueryBuilder.js","webpack:///./components/formly/code.html","webpack:///./components/formly/code.controller.js","webpack:///delegated ./node_modules/jshint/src/jshint.js from dll-reference lib_lib","webpack:///delegated ./frontend/components/formly/ecma6.json from dll-reference lib_lib","webpack:///delegated ./frontend/components/formly/ecma5.json from dll-reference lib_lib","webpack:///delegated ./frontend/components/formly/cms-def.json from dll-reference lib_lib","webpack:///delegated ./node_modules/jquery-ui/ui/effect.js from dll-reference lib_lib","webpack:///./components/formly/array.controller.js","webpack:///./components/formly/array.template.html","webpack:///./components/formly/table.controller.js","webpack:///./components/formly/table.template.html","webpack:///./components/formly/select-type.controller.js","webpack:///./components/formly/select-element.controller.js","webpack:///./components/formly/select-property.controller.js","webpack:///./components/formly/select-child-property.controller.js","webpack:///./components/formly/select-fn.controller.js","webpack:///./components/formly/select.html","webpack:///./components/formly/select-whole.html","webpack:///./components/formly/multi-select.html","webpack:///./components/formly/bs-grid-select.controller.js","webpack:///./components/formly/bs-grid-select.html","webpack:///../~/angular-formly-templates-bootstrap/src/types/checkbox.html","webpack:///./components/formly/saveContainersController.js","webpack:///./components/formly/recursive.html","webpack:///./components/formly/recursive.controller.js","webpack:///delegated ./node_modules/api-check/dist/api-check.js from dll-reference lib_lib","webpack:///delegated ./node_modules/angular-ui-switch/angular-ui-switch.js from dll-reference lib_lib","webpack:///../~/angular-ui-switch/angular-ui-switch.css?2551","webpack:///../~/angular-ui-switch/angular-ui-switch.css","webpack:///delegated ./node_modules/css-loader/lib/css-base.js from dll-reference lib_lib","webpack:///delegated ./node_modules/style-loader/addStyles.js from dll-reference lib_lib","webpack:///delegated ./node_modules/angular-formly/dist/formly.js from dll-reference lib_lib","webpack:///delegated ./node_modules/angular-formly-templates-bootstrap/dist/angular-formly-templates-bootstrap.js from dll-reference lib_lib","webpack:///delegated ./node_modules/jstree/dist/jstree.js from dll-reference lib_lib","webpack:///delegated ./node_modules/jstree-bootstrap-theme/dist/themes/proton/style.min.css from dll-reference lib_lib","webpack:///delegated ./node_modules/ng-js-tree/dist/ngJsTree.min.js from dll-reference lib_lib","webpack:///delegated ./node_modules/ui-select/index.js from dll-reference lib_lib","webpack:///../~/ui-select/dist/select.min.css?94a3","webpack:///../~/ui-select/dist/select.min.css","webpack:///delegated ./node_modules/selectize/dist/css/selectize.css from dll-reference lib_lib","webpack:///delegated ./node_modules/selectize/dist/js/standalone/selectize.js from dll-reference lib_lib","webpack:///./components/formly/selectize.js","webpack:///delegated ./node_modules/tinycolor2/tinycolor.js from dll-reference lib_lib","webpack:///delegated ./node_modules/angularjs-color-picker/angularjs-color-picker.js from dll-reference lib_lib","webpack:///delegated ./node_modules/angularjs-color-picker/angularjs-color-picker.css from dll-reference lib_lib","webpack:///delegated ./node_modules/angular-sanitize/index.js from dll-reference lib_lib","webpack:///delegated ./node_modules/codemirror/lib/codemirror.js from dll-reference lib_lib","webpack:///delegated ./node_modules/codemirror/addon/edit/matchbrackets.js from dll-reference lib_lib","webpack:///delegated ./node_modules/codemirror/addon/edit/closebrackets.js from dll-reference lib_lib","webpack:///delegated ./node_modules/codemirror/addon/hint/show-hint.css from dll-reference lib_lib","webpack:///delegated ./node_modules/codemirror/addon/hint/show-hint.js from dll-reference lib_lib","webpack:///delegated ./node_modules/codemirror/mode/javascript/javascript.js from dll-reference lib_lib","webpack:///delegated ./node_modules/codemirror/addon/display/fullscreen.css from dll-reference lib_lib","webpack:///delegated ./node_modules/codemirror/addon/display/fullscreen.js from dll-reference lib_lib","webpack:///delegated ./node_modules/codemirror/addon/lint/lint.css from dll-reference lib_lib","webpack:///delegated ./node_modules/codemirror/addon/lint/lint.js from dll-reference lib_lib","webpack:///delegated ./node_modules/codemirror/addon/lint/javascript-lint.js from dll-reference lib_lib","webpack:///delegated ./node_modules/codemirror/addon/dialog/dialog.css from dll-reference lib_lib","webpack:///delegated ./node_modules/codemirror/addon/dialog/dialog.js from dll-reference lib_lib","webpack:///delegated ./node_modules/acorn/dist/acorn.js from dll-reference lib_lib","webpack:///delegated ./node_modules/acorn/dist/acorn_loose.js from dll-reference lib_lib","webpack:///delegated ./node_modules/acorn/dist/walk.js from dll-reference lib_lib","webpack:///delegated ./node_modules/tern/lib/tern.js from dll-reference lib_lib","webpack:///delegated ./node_modules/tern/doc/demo/polyfill.js from dll-reference lib_lib","webpack:///delegated ./node_modules/tern/lib/signal.js from dll-reference lib_lib","webpack:///delegated ./node_modules/tern/lib/def.js from dll-reference lib_lib","webpack:///delegated ./node_modules/tern/lib/comment.js from dll-reference lib_lib","webpack:///delegated ./node_modules/tern/lib/infer.js from dll-reference lib_lib","webpack:///delegated ./node_modules/tern/plugin/doc_comment.js from dll-reference lib_lib","webpack:///delegated ./node_modules/codemirror/addon/tern/tern.css from dll-reference lib_lib","webpack:///delegated ./node_modules/codemirror/addon/tern/tern.js from dll-reference lib_lib","webpack:///delegated ./node_modules/angular-ui-codemirror/src/ui-codemirror.js from dll-reference lib_lib","webpack:///./components/cms-editable/tpl.html","webpack:///./common/common.module.js","webpack:///./common/cms/cms.js","webpack:///delegated ./node_modules/ng-file-upload/index.js from dll-reference lib_lib","webpack:///./common/cms/Type.js","webpack:///delegated ./node_modules/angular-websocket/dist/angular-websocket.js from dll-reference lib_lib","webpack:///../~/uuid/uuid.js","webpack:///../~/uuid/rng-browser.js","webpack:///delegated ./node_modules/jquery-ui/ui/widgets/draggable.js from dll-reference lib_lib","webpack:///delegated ./node_modules/jquery-ui/ui/widgets/resizable.js from dll-reference lib_lib","webpack:///delegated ./node_modules/traverse/index.js from dll-reference lib_lib","webpack:///delegated ./node_modules/angular-translate/dist/angular-translate.js from dll-reference lib_lib","webpack:///delegated ./node_modules/angular-ui-notification/index.js from dll-reference lib_lib","webpack:///delegated ./node_modules/angular-ui-notification/dist/angular-ui-notification.min.css from dll-reference lib_lib","webpack:///delegated ./node_modules/socket.io-client/lib/index.js from dll-reference lib_lib","webpack:///./components/cms-types/module.js","webpack:///delegated ./node_modules/angular-drag-and-drop-lists/angular-drag-and-drop-lists.js from dll-reference lib_lib","webpack:///./components/cms-types/tpl.html","webpack:///./components/cms-main/module.js","webpack:///./components/cms-element-edit/module.js","webpack:///./components/cms-element-edit/tpl.html","webpack:///./components/cms-main/element.directive.js","webpack:///./components/cms-main/editor.directive.js","webpack:///./components/cms-main/editor.html","webpack:///./components/cms-main/cms-wrapper.directive.js","webpack:///delegated ./node_modules/angular-bootstrap-contextmenu/contextMenu.js from dll-reference lib_lib","webpack:///./components/cms-main/fragment.directive.js","webpack:///./components/cms-main/container.directive.js","webpack:///./components/cms-main/container.html","webpack:///./components/cms-main/container-edit.directive.js","webpack:///./components/cms-main/container-edit.html","webpack:///./components/cms-main/cms-form-path.directive.js","webpack:///delegated ./node_modules/extend/index.js from dll-reference lib_lib","webpack:///delegated ./node_modules/angular-file-saver/dist/angular-file-saver.bundle.js from dll-reference lib_lib","webpack:///./components/cms-sitemap/module.js","webpack:///./components/cms-sitemap/tpl.html","webpack:///./components/cms-edit-state/module.js","webpack:///./components/cms-edit-state/tpl.html","webpack:///./components/cms-admin/module.js","webpack:///./components/cms-admin/cms-list.js","webpack:///./components/cms-admin/cms-list.html","webpack:///./components/cms-admin/importService.js","webpack:///./components/cms-admin/importService.html","webpack:///./components/cms-admin/exportService.js","webpack:///./components/cms-admin/exportService.html","webpack:///./components/cms-admin/tpl.html","webpack:///./components/cms-nav/module.js","webpack:///./components/cms-nav/cms-nav.directive.js","webpack:///./components/cms-nav/cms-nav.html"],"names":["window","angular","printthis","$","fn","_","unionWith","pickBy","moment","JsonFn","stringify","obj","JSON","key","value","fnBody","Function","toString","length","substring","RegExp","charAt","undefined","hasOwnProperty","_id","parse","str","date2obj","iso8061","prefix","match","Date","eval","e","slice","_transform","transformResponse","d","module","config","$compileProvider","debugInfoEnabled","controller","element","document","ready","bootstrap","components","name","directive","cmsEditableTransclude","cmsDirectEditableDirective","run","$inject","$templateCache","put","cms","link","scope","attrs","elementController","getElement","type","ref","vm","showJson","prepareForm","$watch","get","property","isValueUndefined","isEmpty","isNaN","require","restrict","bindToController","template","controllerAs","$filter","$timeout","replace","refKey","Types","checkAndGetRef","_value","Object","v","hide","show","withEditBtn","transclude","getType","model","form","fields","findField","split","templateOptions","focus","onSubmit","updateElement","isOpen","options","formState","path","apiCheck","globalConfig","disabled","Selectize","tinycolor","CodeMirror","tern","constant","label","input","formlyConfigProvider","size","$rootScopeProvider","digestTtl","disableWarnings","removeWrapperByName","setWrapper","setType","wrapper","overwriteOk","$scope","$http","genName","onFileUpload","file","uploadFile","w","console","log","download","filename","post","url","then","Type","to","loadElements","push","map","list","getTitle","labelProp","choice","marginTop","noPanel","formOptions","addNew","addNewWithChoice","copyFields","copy","createFormOptions","$index","startsWith","tree","treeConfig","core","themes","responsive","animation","check_callback","plugins","checkbox","tie_selection","version","data","check","_arr","treeInstance","jstree","get_checked","get_node","id","text","models","dropdownParent","valueField","labelField","searchField","onChange","val","multiple","find","onInitialize","selectize","async","load","query","callback","queryBuilder","limit","_textIndex","makeRegex","showWithQuery","maxItems","sortField","score","search","item","toLowerCase","indexOf","_model","includes","Array","isArray","m","clear","QueryBuilder","_part","_query","part","_limit","_page","_sort","_search","_populate","_lean","_skip","params","$and","result","skip","populate","lean","JSHINT","hasError","escape","s","editorOptions","lineWrapping","lineNumbers","autoCloseBrackets","showHint","mode","tabSize","gutters","lint","cm","linter","getHelper","Pos","merge","esversion","debug","asi","codemirrorLoaded","editor","server","TernServer","defs","setOption","complete","showType","showDocs","jumpToDef","jumpBack","rename","selectName","hasClass","removeClass","addClass","getOption","on","updateArgHints","selectTab","refresh","showCode","unique","copyItemOptions","field","array","createFormState","getCols","types","k","dropRight","join","containers","getLabel","selected","walkInContainers","info","title","BindType","columns","getProperties","child","add","save","$emit","cb","restore","_fields","_formState","selectizeConfig","ngModel","ngDisabled","ngRequired","modelCtrl","settings","extend","defaults","toggle","disable","enable","validate","isInvalid","required","$setValidity","setSelectizeOptions","curr","prev","forEach","opt","removeOption","addOption","refreshOptions","setSelectizeValue","$control","toggleClass","$valid","$invalid","$dirty","$pristine","equals","items","setValue","$setViewValue","apply","arguments","onOptionAdd","$watchCollection","destroy","commonModule","io","Enum","Load","NOT","LOADING","LOADED","PART_LOADED","EditMode","ALL","VIEWELEMENT","DATAELEMENT","CONTAINER","modelModule","factory","$translateProvider","translations","Add","Setting","DeleteAll","Show","Submit","Cancel","Apply","preferredLanguage","Upload","socketQueue","editState","editMode","dragType","showContainerEdit","changeEditMode","content","onfly","clone","res","remove","serverFn","createElement","removeElement","onerror","delete","updateContainerPage","location","pathname","loadElementsPending","countElements","paramsBuilder","sendWs","buildJson","count","msg","_uuid","v1","socket","send","assign","uuid","_load","time","_list","timeEnd","filter","e1","e2","queryList","findByRef","findByID","ID","findFnByID","each","f","bind","findFnByRef","walk","container","elements","resolve","fail","oldModel","member","listColumns","isTab","deep","last","pop","node","reduce","parents","parent","stop","getContainer","_path","parseAndSaveData","_data","exportAll","confirm","importAll","upload","deleteElements","getAdminList","_types","pick","isViewElement","i","_children","createChildren","_properties","properties","children","shift","_type","_element","concat","_property","Config","dynamicQuery","showFields","col","execServerFn","fnName","args","execServerFnForWrapper","$websocket","setupServerFn","Local","append","prepend","new_uri","wsAddress","online","loc","host","connect","event","TypeClass","raw","fieldName","selectType","convert","end","start","service","cmsFields","fullScreenText","changeScreenSize","cmsType","cmsModel","onCancel","onAdd","onApply","onDelete","$uibModal","manipulate","modalCtrl","$uibModalInstance","$on","tabs","tab","_tab","active","inFirstTab","submit","close","dismiss","cancel","edit","mouseEnter","preventDefault","stopPropagation","modalInstance","open","windowClass","mouseover","mouseout","off","elementDirective","$compile","$controller","attr","binding","render","dndMoved","processBinding","binds","parentModel","parentKey","parentFn","prepareElement","Layout","getTreeWithBinding","inline","cmsInline","reRender","$parent","newValue","oldValue","html","_render","ctrl","_fn","serverFnData","getPath","contents","formService","cmsEditor","showControl","_showControl","getControlVisible","cmsRemove","removeByDatabase","finish","menu","cmsMenu","unshift","editorIcon","cmsRefresh","cmsTemplate","store","cmsWrapper","Fn","null","layout","mapValues","fragment","SAVE","elementPath","allowedTypes","cmsContainerTypes","highlight","matchEditMode","draggable","handle","test","main","_node","update","_merge","class","Path","paths","pathInForm","openSitemap","templates","baseUrlPath","href","ignoreModelChanges","onFileSelect","files","selectNode","select","original","makeTemplate","templateName","createPage","templatePage","pageName","deletePage","renamePage","newPageName","modes","onSelect","importService","exportService","openAdminPage","onlyChangePage","changeAdminList","setTimeout","$digest","loading","page","currentPage","queries","q","endsWith","$where","showAs","selectElement","watchs","getConfig","elementClass","listen","manualQuery","builtIn","index","default","defaultValue","m1","m2","$apply","setting","export","import","deleteAll","tmpStr","autoOpenAdmin","_openAdminPage","choose","typesChooseCtrl","modal2","keys","css","top","right","bodyPaddingTop","inverse","bottom","toggleContainer"],"mappings":"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","file":"build/bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 1ff4140320d75aebfab3\n **/","import angular from 'angular';\nwindow.angular = angular;\nimport 'angular-i18n/de-de';\nimport 'jquery';\nimport printthis from 'printthis';\nwindow.printthis = printthis;\n$.fn.printthis = printthis;\nimport 'lodash';\nimport unionWith from 'lodash/unionWith';\n_.unionWith = unionWith;\n\nimport pickBy from 'lodash/pickBy';\n_.pickBy = pickBy;\n\nimport _moment from 'moment';\nwindow.moment = _moment;\n\nimport _JsonFn from 'json-fn';\nwindow.JsonFn = _JsonFn;\n_JsonFn.stringify = function (obj) {\n    return JSON.stringify(obj, function (key, value) {\n        var fnBody;\n        if (value instanceof Function || typeof value == 'function') {\n\n\n            fnBody = value.toString();\n\n            if (fnBody.length < 8 || fnBody.substring(0, 8) !== 'function') { //this is ES6 Arrow Function\n                return '_NuFrRa_' + fnBody;\n            }\n            return fnBody;\n        }\n        if (value instanceof RegExp) {\n            return '_PxEgEr_' + value;\n        }\n\n        if (typeof key === 'string' && key.charAt(0) === '$' && key.charAt(1) === '$') {\n            value = undefined;\n        }\n\n        if (key === '$order') {\n            value = undefined;\n        }\n\n        if (value && value.hasOwnProperty('isObjectId')) {\n            value = value._id;\n        }\n\n        return value;\n    });\n};\n\n_JsonFn.parse = function (str, date2obj) {\n\n    var iso8061 = date2obj ? /^(\\d{4})-(\\d{2})-(\\d{2})T(\\d{2}):(\\d{2}):(\\d{2}(?:\\.\\d*)?)Z$/ : false;\n\n    return JSON.parse(str, function (key, value) {\n        var prefix;\n\n        if (typeof value != 'string') {\n            return value;\n        }\n        if (value.length < 8) {\n            return value;\n        }\n\n        prefix = value.substring(0, 8);\n\n        if (iso8061 && value.match(iso8061)) {\n            return new Date(value);\n        }\n        if (prefix === 'function') {\n            try {\n                return eval('(' + value + ')');\n            } catch (e) {\n            }\n        }\n        if (prefix === '_PxEgEr_') {\n            return eval(value.slice(8));\n        }\n        if (prefix === '_NuFrRa_') {\n            try {\n                return eval(value.slice(8));\n            } catch (e) {\n            }\n        }\n\n        return value;\n    });\n};\n\nwindow._transform = {\n    transformResponse: d => {\n        return JsonFn.parse(d);\n    }\n};\n\nimport 'bootstrap/dist/js/bootstrap';\n\nimport components from './components/components.module';\nimport common from './common/common.module';\n\nangular.module('app', [common, components])\n    .config(['$compileProvider', function ($compileProvider) {\n        $compileProvider.debugInfoEnabled(false);\n    }])\n    .controller('appCtrl', function () {\n    });\n\nangular.element(document).ready(function () {\n    angular.bootstrap(document, ['app']);\n});\n\n\n\n\n/** WEBPACK FOOTER **\n ** ./app.module.js\n **/","module.exports = (__webpack_require__(2))(1);\n\n\n/*****************\n ** WEBPACK FOOTER\n ** delegated ./node_modules/jquery/dist/jquery.js from dll-reference lib_lib\n ** module id = 1\n ** module chunks = 0\n **/","module.exports = lib_lib;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"lib_lib\"\n ** module id = 2\n ** module chunks = 0\n **/","module.exports = (__webpack_require__(2))(2);\n\n\n/*****************\n ** WEBPACK FOOTER\n ** delegated ./node_modules/angular/index.js from dll-reference lib_lib\n ** module id = 3\n ** module chunks = 0\n **/","module.exports = (__webpack_require__(2))(44);\n\n\n/*****************\n ** WEBPACK FOOTER\n ** delegated ./node_modules/angular-i18n/de-de.js from dll-reference lib_lib\n ** module id = 4\n ** module chunks = 0\n **/","module.exports = (__webpack_require__(2))(334);\n\n\n/*****************\n ** WEBPACK FOOTER\n ** delegated ./node_modules/printthis/printThis.js from dll-reference lib_lib\n ** module id = 5\n ** module chunks = 0\n **/","module.exports = (__webpack_require__(2))(60);\n\n\n/*****************\n ** WEBPACK FOOTER\n ** delegated ./node_modules/lodash/lodash.js from dll-reference lib_lib\n ** module id = 6\n ** module chunks = 0\n **/","module.exports = (__webpack_require__(2))(78);\n\n\n/*****************\n ** WEBPACK FOOTER\n ** delegated ./node_modules/lodash/unionWith.js from dll-reference lib_lib\n ** module id = 7\n ** module chunks = 0\n **/","module.exports = (__webpack_require__(2))(154);\n\n\n/*****************\n ** WEBPACK FOOTER\n ** delegated ./node_modules/lodash/pickBy.js from dll-reference lib_lib\n ** module id = 8\n ** module chunks = 0\n **/","module.exports = (__webpack_require__(2))(333);\n\n\n/*****************\n ** WEBPACK FOOTER\n ** delegated ./node_modules/moment/moment.js from dll-reference lib_lib\n ** module id = 9\n ** module chunks = 0\n **/","module.exports = (__webpack_require__(2))(231);\n\n\n/*****************\n ** WEBPACK FOOTER\n ** delegated ./node_modules/json-fn/jsonfn.js from dll-reference lib_lib\n ** module id = 10\n ** module chunks = 0\n **/","module.exports = (__webpack_require__(2))(232);\n\n\n/*****************\n ** WEBPACK FOOTER\n ** delegated ./node_modules/bootstrap/dist/js/bootstrap.js from dll-reference lib_lib\n ** module id = 11\n ** module chunks = 0\n **/","import cmsEditable from './cms-editable/module';\nimport cmsTypes from './cms-types/module';\nimport cmsMain from './cms-main/module';\nimport cmsSitemap from './cms-sitemap/module';\nimport cmsEditState from './cms-edit-state/module';\nimport cmsAdmin from './cms-admin/module';\nimport cmsNav from './cms-nav/module';\n\nconst components = angular.module('components', [\n    cmsTypes,\n    cmsMain,\n    cmsSitemap,\n    cmsEditState,\n    cmsAdmin,\n    cmsNav\n]);\n\nexport default components.name;\n\n\n\n/** WEBPACK FOOTER **\n ** ./components/components.module.js\n **/","import 'angular-ui-bootstrap';\nimport formlyTemplate from './editable-formly.html';\nimport formly from '../formly/module';\nimport template from './tpl.html';\nimport common from '../../common/common.module';\n\nconst module = angular\n    .module('components.cmsEditable', [formly, 'ui.bootstrap', common])\n    .directive('cmsEditable', directive)\n    .directive('cmsEditableTransclude', cmsEditableTransclude)\n    .directive('cmsDirectEditable', cmsDirectEditableDirective)\n    .run(run);\n\nrun.$inject = ['$templateCache'];\nfunction run($templateCache) {\n    $templateCache.put('editable-formly.html', formlyTemplate);\n}\n\ndirective.$inject = ['cms'];\n\nfunction directive(cms) {\n\n    function link(scope, element, attrs, elementController) {\n        // resolve type and ref\n        const {type, ref} = elementController.getElement();\n\n        const {vm} = scope;\n\n        vm.showJson = () => false;\n\n        prepareForm(cms, type, ref, scope);\n\n        scope.$watch('model', v => {\n            vm.value = _.get(scope, vm.property)\n            vm.isValueUndefined = _.isEmpty(vm.value) && isNaN(vm.value);\n        }, true);\n\n    }\n\n    return {\n        require: '^^?cmsElement',\n        restrict: 'A',\n        scope: {},\n        bindToController: {\n            property: '@cmsEditable'\n        },\n        template,\n        controllerAs: 'vm',\n        controller: function () {\n        },\n        link: link\n    };\n}\n\n// inheritance\n\ncmsDirectEditableDirective.$inject = ['cms', '$filter'];\n\nfunction cmsDirectEditableDirective(cms, $filter, $timeout) {\n\n    function link(scope, element, attrs, elementController) {\n        const {vm} = scope;\n\n        // resolve type and ref\n        const {type, ref} = vm;\n\n        var property = vm.property.replace('model.', '');\n\n        const refKey = Types[type].checkAndGetRef(property);\n\n        vm.showJson = () => vm._value instanceof Object && !refKey && !(vm._value instanceof Date);\n\n        scope.$watch('vm._value', v => {\n            if (v instanceof Date) {\n                vm.value = $filter('date')(v, 'dd-MM-yyyy HH:mm');\n            } else {\n                vm.value = v && refKey ? v[refKey] : v\n            }\n\n            vm.isValueUndefined = typeof vm.value === 'undefined';\n\n        }, true);\n\n        if (!ref) return;\n\n        prepareForm(cms, type, ref, scope);\n    }\n\n    return {\n        restrict: 'A',\n        scope: {},\n        bindToController: {\n            _value: '=cmsValue',\n            property: '@cmsDirectEditable',\n            type: '@cmsType',\n            ref: '@cmsRef'\n        },\n        template,\n        controllerAs: 'vm',\n        controller: function () {\n        },\n        link: link\n    };\n}\n\ncmsEditableTransclude.$inject = ['cms', '$timeout'];\n\nfunction cmsEditableTransclude(cms, $timeout) {\n\n    function link(scope, element, attrs, elementController) {\n        const {vm} = scope;\n\n        // resolve type and ref\n        const {type, ref} = vm.element ? vm.element : elementController.getElement();\n\n        vm.showJson = () => false;\n\n        prepareForm(cms, type, ref, scope);\n\n        scope.$watch('model', v => {\n            vm.value = _.get(scope, vm.property);\n            vm.isValueUndefined = _.isEmpty(vm.value) && isNaN(vm.value);\n        }, true);\n\n        vm.hide = function () {\n            $timeout(() => vm.show = false, 1000);\n        }\n    }\n\n    return {\n        require: '^^?cmsElement',\n        restrict: 'A',\n        scope: {},\n        bindToController: {\n            property: '@cmsEditableTransclude',\n            withEditBtn: '@withEditBtn',\n            element: '=element'\n        },\n        transclude: true,\n        template: `\n<span class=\"cms\">\n    <span   ng-if=\"vm.withEditBtn !== 'true'\"\n            popover-placement=\"bottom\"\n            popover-is-open=\"vm.isOpen\"\n            uib-popover-template=\"'editable-formly.html'\"\n            popover-append-to-body=\"true\"\n            style=\"cursor: pointer\">\n        <ng-transclude></ng-transclude>\n        <span ng-show=\"vm.isValueUndefined && !vm.element\" class=\"cms-empty-value\">\n            empty\n        </span> \n    </span>\n    <span ng-if=\"vm.withEditBtn === 'true'\" style=\"position: relative\">\n        <button ng-style=\"{opacity:vm.show? 1: 0.1}\"\n                class=\"btn btn-white btn-xs\"\n                popover-placement=\"bottom\"\n                popover-is-open=\"vm.isOpen\"\n                uib-popover-template=\"'editable-formly.html'\"\n                popover-append-to-body=\"true\"\n                style=\"position: absolute;z-index: 1000;top:-24px\"\n                ng-mouseover=\"vm.show = true\" \n                ng-mouseout=\"vm.hide();\">\n                   Edit\n        </button>\n        <ng-transclude \n            ng-mouseover=\"vm.show = true\" \n            ng-mouseout=\"vm.hide();\"\n            ></ng-transclude>\n        <span ng-show=\"vm.isValueUndefined && !vm.element\" class=\"cms-empty-value\">\n            empty\n        </span> \n    </span>   \n</span>\n`,\n        controllerAs: 'vm',\n        controller: function () {\n        },\n        link: link\n    };\n}\n\nfunction prepareForm(cms, type, ref, scope) {\n    const {vm} = scope;\n\n    cms.getType(type, ref, (model) => {\n        const {form} = Types[type];\n        scope.model = model;\n\n        vm.fields = [cms.findField(form, vm.property.split(\"\\.\")[1])];\n\n        vm.fields[0].templateOptions.focus = 'true';\n\n        vm.onSubmit = function () {\n            cms.updateElement(type, scope.model);\n            vm.isOpen = false;\n        }\n\n        vm.options = {formState: {path: ''}}\n    })\n}\n\nexport default module.name;\n\n\n/** WEBPACK FOOTER **\n ** ./components/cms-editable/module.js\n **/","module.exports = (__webpack_require__(2))(19);\n\n\n/*****************\n ** WEBPACK FOOTER\n ** delegated ./node_modules/angular-ui-bootstrap/index.js from dll-reference lib_lib\n ** module id = 14\n ** module chunks = 0\n **/","module.exports = \"<div class=\\\"cms\\\">\\n    <form ng-submit=\\\"vm.onSubmit()\\\" novalidate class=\\\"form-horizontal cms-field-form\\\">\\n        <div style=\\\"overflow: auto;max-height: 500px;padding-right: 20px;\\\">\\n            <formly-form model=\\\"model\\\" fields=\\\"vm.fields\\\" form=\\\"vm.form\\\" options=\\\"vm.options\\\">\\n            </formly-form>\\n        </div>\\n        <button type=\\\"submit\\\" class=\\\"btn btn-primary submit-button\\\" ng-disabled=\\\"vm.form.$invalid\\\">Submit</button>\\n        <button type=\\\"button\\\" class=\\\"btn btn-primary\\\" ng-click=\\\"vm.isOpen = false\\\">Cancel</button>\\n    </form>\\n    <br ng-if=\\\"adminList === 'true'\\\">\\n</div>\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./components/cms-editable/editable-formly.html\n ** module id = 15\n ** module chunks = 0\n **/","import 'angular-filter';\nimport config from './config';\n\nimport _apiCheck from 'api-check';\nwindow.apiCheck = _apiCheck;\napiCheck.globalConfig.disabled = true;\nimport 'angular-ui-switch';\nimport 'angular-ui-switch/angular-ui-switch.css';\n\nimport 'angular-formly';\nimport 'angular-formly-templates-bootstrap';\n\nimport 'jstree';\nimport 'jstree-bootstrap-theme/dist/themes/proton/style.min.css'\nimport 'ng-js-tree';\nimport 'ui-select';\nimport 'ui-select/dist/select.min.css';\n\nimport 'selectize/dist/css/selectize.css';\nimport _Selectize from 'selectize/dist/js/standalone/selectize.js';\nwindow.Selectize = _Selectize;\nimport './selectize';\n\nimport _tinycolor from 'tinycolor2';\nwindow.tinycolor = _tinycolor;\nimport 'angularjs-color-picker';\nimport 'angularjs-color-picker/angularjs-color-picker.css';\nimport 'angular-sanitize';\nimport _CodeMirror from 'codemirror/lib/codemirror';\nwindow.CodeMirror = _CodeMirror;\nimport 'codemirror/addon/edit/matchbrackets';\nimport 'codemirror/addon/edit/closebrackets';\nimport 'codemirror/addon/hint/show-hint.css';\nimport 'codemirror/addon/hint/show-hint';\nimport 'codemirror/mode/javascript/javascript';\n\nimport 'codemirror/addon/display/fullscreen.css';\nimport 'codemirror/addon/display/fullscreen.js';\nimport 'codemirror/addon/lint/lint.css';\nimport 'codemirror/addon/lint/lint.js';\nimport 'codemirror/addon/lint/javascript-lint';\nimport 'codemirror/addon/dialog/dialog.css';\nimport 'codemirror/addon/dialog/dialog.js';\nimport 'acorn/dist/acorn';\nimport 'acorn/dist/acorn_loose';\nimport 'acorn/dist/walk';\nimport _tern from 'tern/lib/tern'\nwindow.tern = _tern;\nimport 'tern/doc/demo/polyfill';\nimport 'tern/lib/signal'\nimport 'tern/lib/def'\nimport 'tern/lib/comment'\nimport 'tern/lib/infer'\nimport 'tern/plugin/doc_comment'\nimport 'codemirror/addon/tern/tern.css';\nimport 'codemirror/addon/tern/tern.js';\nimport 'angular-ui-codemirror';\n\nconst module = angular\n    .module('components.formly', ['formly', 'formlyBootstrap',\n        'ngJsTree', 'ui.select', 'ngSanitize', 'angular.filter',\n        'ui.codemirror', 'color.picker', 'dndLists', 'uiSwitch', 'selectize'])\n    .config(config)\n    .constant('size', {label: 'col-sm-2', input: 'col-sm-10'});\n\nexport default module.name;\n\n\n\n/** WEBPACK FOOTER **\n ** ./components/formly/module.js\n **/","module.exports = (__webpack_require__(2))(49);\n\n\n/*****************\n ** WEBPACK FOOTER\n ** delegated ./node_modules/angular-filter/index.js from dll-reference lib_lib\n ** module id = 17\n ** module chunks = 0\n **/","import panel from './panel.html';\nimport repeatSection from './repeatSection.html';\nimport repeatSectionController from './repeat-section.controller';\nimport treeTemplate from './tree.template.html';\nimport treeController from './tree.controller';\nimport refSelect from './ref.select.html';\nimport refController from './ref.controller';\nimport codeTemplate from './code.html';\nimport code from './code.controller';\nimport arrayController from './array.controller';\nimport arrayTemplate from './array.template.html';\nimport tableController from './table.controller';\nimport tableTemplate from './table.template.html';\nimport selectTypeController from './select-type.controller';\nimport selectElementController from './select-element.controller';\nimport selectPropertyController from './select-property.controller';\nimport selectChildPropertyController from './select-child-property.controller';\nimport selectFnController from './select-fn.controller';\nimport selectTemplate from './select.html';\nimport selectWholeTemplate from './select-whole.html';\nimport multiSelectTemplate from './multi-select.html';\nimport bsGridSelectController from './bs-grid-select.controller';\nimport bsGridSelectTemplate from './bs-grid-select.html';\nimport checkboxTemplate from 'angular-formly-templates-bootstrap/src/types/checkbox.html';\nimport saveContainersController from './saveContainersController';\nimport recursiveTemplate from './recursive.html';\nimport recursiveController from './recursive.controller';\n\nconfig.$inject = ['formlyConfigProvider', 'size', '$rootScopeProvider'];\n\nfunction config(formlyConfigProvider, size, $rootScopeProvider) {\n    $rootScopeProvider.digestTtl(20);\n\n    const config = formlyConfigProvider;\n\n    config.disableWarnings = true;\n\n    config.removeWrapperByName('bootstrapLabel');\n\n    config.setWrapper({\n        name: 'bootstrapLabel',\n        template: `\n        <div>\n          <label for=\"{{id}}\" class=\"control-label {{!to.class ? '${size.label}' : ''}}\"\n                 uib-tooltip-html='to.tooltip'>\n            {{to.label}} {{to.required ? '*' : ''}}\n          </label>\n          <div class=\"{{!to.class ? '${size.input}' : ''}}\"><formly-transclude></formly-transclude></div>\n        </div>\n        `\n    });\n\n    config.removeWrapperByName('bootstrapHasError');\n    config.setWrapper({\n        name: 'bootstrapHasError',\n        template: `\n        <div ng-if=\"!to.class\" class=\"clearfix\"></div>\n        <div ng-if=\"!to.class\" ng-class=\"['form-group','']\" ng-class=\"{'has-error': showError}\" >\n          <formly-transclude></formly-transclude>\n        </div>\n        \n        <div ng-if=\"to.class\" ng-class=\"[to.class]\" ng-class=\"{'has-error': showError}\" style=\"margin-bottom: 15px;\">\n          <formly-transclude></formly-transclude>\n        </div>\n        `\n    });\n\n    // Replace formlyBootstrap input field type to implement read-only forms\n    config.setType({\n        name: 'input',\n        template: `\n        <div>\n          <input ng-if=\"!formState.readOnly\" class=\"form-control\" ng-model=\"model[options.key]\" >\n          <p ng-if=\"formState.readOnly\" class=\"form-control-static\">{{model[options.key]}}</p>\n        </div>\n        `,\n        wrapper: ['bootstrapLabel', 'bootstrapHasError'],\n        overwriteOk: true\n    });\n\n    config.setWrapper({\n        name: 'checkboxWrapper',\n        template: `\n        <div ng-if=\"!to.class\" class=\"form-group\"><div class=\"col-sm-offset-2 col-sm-10\"><formly-transclude></formly-transclude></div></div>\n        <div ng-if=\"to.class\" class=\"form-group\"><div ng-class=\"[to.class]\"><formly-transclude></formly-transclude></div></div>\n        `\n    });\n\n    config.setType({\n        name: 'checkbox',\n        template: `\n        <div class=\"checkbox\">\n            <label style=\"padding-left: 0px;\">\n                <switch ng-model=\"model[options.key]\" class=\"green \"></switch>\n            </label>\n            <span style=\"position: absolute\">\n                {{to.label}}\n                {{to.required ? '*' : ''}}\n            </span>\n        </div>\n`,\n        wrapper: ['checkboxWrapper'],\n        overwriteOk: true\n    });\n\n    config.setWrapper({\n        name: 'panel',\n        template: panel\n    });\n\n    config.setType({\n        name: 'repeatSection',\n        template: repeatSection,\n        controller: repeatSectionController\n    });\n\n    config.setType({\n        name: 'tree',\n        template: treeTemplate,\n        controller: treeController,\n        wrapper: ['bootstrapLabel', 'bootstrapHasError']\n    });\n\n    config.setType({\n        name: 'refSelect',\n        template: refSelect,\n        controller: refController,\n        wrapper: ['bootstrapLabel', 'bootstrapHasError']\n    });\n\n    config.setType({\n        name: 'code',\n        template: codeTemplate,\n        controller: code\n    });\n\n    config.setType({\n        name: 'image',\n        template: `\n            <div class=\"row\" style=\"padding-top:7px;\">\n                <div class=\"col-sm-7\" style=\"padding-left: 0px;padding-right: 0px;\">\n                    <div class=\"col-sm-6\">\n                        <input type=\"text\" class=\"form-control input-xs\" ng-model=\"model[options.key]\" placeholder=\"URL\">\n                    </div>\n                    <div class=\"col-sm-6\">\n                        <div class = \"input-group\">\n                            <input ng-model=\"filename\" class=\"form-control input-xs\"\n                                   placeholder=\"filename\">\n                            <span class = \"input-group-btn\">\n                            <button class=\"btn btn-white btn-sm\" type=\"button\" ng-click=\"download(filename)\"  style=\"margin: 0px;\">\n                                Save\n                            </button>\n                        </span>\n                        </div>\n                    </div>\n                </div>\n                <div class=\"col-sm-5\">\n                    <div class = \"input-group\">\n                        <input type=\"file\" ngf-select ng-model=\"file\"\n                               name=\"file\" class=\"form-control input-xs\"\n                               placeholder=\"file upload\">\n                        <span class = \"input-group-btn\">\n                            <button class=\"btn btn-white btn-sm\" type=\"button\" ng-click=\"onFileUpload(file)\"  style=\"margin: 0px;\">\n                                Up\n                            </button>\n                        </span>\n                    </div>\n                    \n                    \n                </div>\n            </div>\n            \n            <img ng-if=\"model[options.key]\" ng-src=\"{{model[options.key]}}\" width=\"40px\" height=\"40px\">\n        `,\n        controller: function ($scope, cms, $http) {\n            $scope.genName = true;\n            $scope.onFileUpload = function (file) {\n                //files: an array of files selected, each file has name, size, and type.\n                cms.uploadFile(file, '.image', () => {\n                    $scope.model[$scope.options.key] = `.image/${file.name}`;\n                    if ($scope.w) $scope.model[$scope.options.key] = `${$scope.model[$scope.options.key]}?w=${$scope.w}`;\n                    $scope.file = null;\n                    console.log('upload successful');\n                })\n            }\n\n            $scope.download = function (filename) {\n                $http.post('api/saveimage', {url: $scope.model[$scope.options.key], filename}).then(function () {\n                    $scope.model[$scope.options.key] = `.image/${filename}`;\n                    if ($scope.w) $scope.model[$scope.options.key] = `${$scope.model[$scope.options.key]}?w=${$scope.w}`;\n                })\n            }\n\n        },\n        wrapper: ['bootstrapLabel', 'bootstrapHasError']\n    });\n\n    /*\n     <button class=\"btn btn-white\"\n     type=\"button\"\n     style=\"z-index: 10;position: fixed;margin-right: 33px;right: 0px;\"\n     >\n     hex8</button>\n     */\n    config.setType({\n        name: 'color',\n        template: `\n        <color-picker\n            ng-init=\"\"\n            ng-model=\"model[options.key]\"\n            color-picker-format=\"'hex'\"\n            color-picker-alpha=\"true\"\n            color-picker-case=\"'lower'\"\n        ></color-picker>\n        `,\n        wrapper: ['bootstrapLabel', 'bootstrapHasError']\n    });\n\n    config.setType({\n        name: 'array',\n        template: arrayTemplate,\n        controller: arrayController\n    });\n\n    config.setType({\n        name: 'tableSection',\n        template: tableTemplate,\n        controller: tableController,\n        wrapper: ['bootstrapLabel', 'bootstrapHasError']\n    });\n\n    config.setType({\n        name: 'select',\n        template: selectTemplate,\n        controller: function ($scope) {\n        },\n        overwriteOk: true,\n        wrapper: ['bootstrapLabel', 'bootstrapHasError']\n    });\n\n    config.setType({\n        name: 'select-ref-static',\n        template: selectTemplate,\n        controller: function ($scope, cms) {\n            const type = $scope.options.templateOptions.Type;\n            $scope.to.options = [];\n            cms.loadElements(type, () => {\n                $scope.to.options.push(..._.map(Types[type].list, e => {\n                    const value = cms.getTitle(type, e._id);\n                    return ({\n                        value: value,\n                        name: $scope.to.labelProp ? e[$scope.to.labelProp] : value\n                    });\n                }));\n            })\n        },\n        overwriteOk: true,\n        wrapper: ['bootstrapLabel', 'bootstrapHasError']\n    });\n\n    config.setType({\n        name: 'select-whole',\n        template: selectWholeTemplate,\n        controller: () => {\n        },\n        overwriteOk: true,\n        wrapper: ['bootstrapLabel', 'bootstrapHasError']\n    });\n\n    config.setType({\n        name: 'recursive',\n        template: recursiveTemplate,\n        controller: recursiveController,\n        overwriteOk: true,\n        wrapper: ['bootstrapLabel', 'bootstrapHasError']\n    });\n\n    config.setType({\n        name: 'select-type',\n        template: selectTemplate,\n        controller: selectTypeController,\n        overwriteOk: true,\n        wrapper: ['bootstrapLabel', 'bootstrapHasError']\n    });\n\n    config.setType({\n        name: 'select-element',\n        template: selectWholeTemplate,\n        controller: selectElementController,\n        overwriteOk: true,\n        wrapper: ['bootstrapLabel', 'bootstrapHasError']\n    });\n\n    config.setType({\n        name: 'select-property',\n        template: selectTemplate,\n        controller: selectPropertyController,\n        overwriteOk: true,\n        wrapper: ['bootstrapLabel', 'bootstrapHasError']\n    });\n\n    config.setType({\n        name: 'select-child-property',\n        template: selectTemplate,\n        controller: selectChildPropertyController,\n        overwriteOk: true,\n        wrapper: ['bootstrapLabel', 'bootstrapHasError']\n    });\n\n    config.setType({\n        name: 'select-fn',\n        template: selectTemplate,\n        controller: selectFnController,\n        overwriteOk: true,\n        wrapper: ['bootstrapLabel', 'bootstrapHasError']\n    });\n\n    config.setType({\n        name: 'multi-select',\n        template: multiSelectTemplate,\n        controller: function () {\n        },\n        overwriteOk: true,\n        wrapper: ['bootstrapLabel', 'bootstrapHasError']\n    });\n\n    config.setType({\n        name: 'bs-grid-select',\n        template: bsGridSelectTemplate,\n        controller: bsGridSelectController,\n        overwriteOk: true,\n        wrapper: ['bootstrapLabel', 'bootstrapHasError']\n    });\n\n    config.setType({\n        name: 'save-containers',\n        template: `\n            <button class=\"btn btn-sm\"\n                    type=\"button\"\n                    ng-click=\"save()\"\n                    ng-class=\"{'btn-success' : model[options.key],'btn-white' : !model[options.key]}\"\n                    >save</button>\n            <button class=\"btn btn-sm btn-danger\"\n                    type=\"button\"\n                    ng-click=\"restore()\"\n                    ng-show=\"model[options.key]\"\n                    >restore</button>\n        `,\n        controller: saveContainersController,\n        overwriteOk: true,\n        wrapper: ['bootstrapLabel', 'bootstrapHasError']\n    });\n}\n\nexport default config;\n\n\n\n/** WEBPACK FOOTER **\n ** ./components/formly/config.js\n **/","module.exports = \"<div class=\\\"clearfix\\\"></div>\\n<div ng-if=\\\"!to.noPanel\\\"\\n     ng-show=\\\"!(model[options.key].null && to.null)\\\"\\n     class=\\\"cms-panel\\\" ng-init=\\\"state = {_show :true}\\\"\\n     style=\\\"position: relative;\\\">\\n\\n    <button type=\\\"button\\\" class=\\\"btn btn-xs btn-white\\\" ng-if=\\\"to.null\\\"\\n            style=\\\"position: relative;right: 0px;margin-top: 15px;z-index: 1;\\\"\\n            ng-click=\\\"model[options.key].null = true;\\\">\\n        <i class=\\\"fa fa-trash-o\\\"></i>\\n    </button>\\n\\n    <fieldset style=\\\"padding: 0 10px 10px 10px;position: relative;top:0px;\\n    border: 1px solid #eee;border-radius:4px;background-color: rgba(128, 128, 128, 0.03)\\\">\\n        <legend style=\\\"color: #337ab7;font-weight: 200;border: 0;margin-left: 10px;width: initial;padding: 0 5px;\\\"\\n                ng-if=\\\"to.label\\\"\\n                ng-style=\\\"{color:to.choice?'#8338b7':'#337ab7'}\\\">\\n            <span ng-show=\\\"to.choice\\\"\\n                  uib-dropdown on-toggle=\\\"toggled(open)\\\">\\n                  <span uib-dropdown-toggle\\n                        uib-tooltip='{{to.tooltip}}'\\n                        style=\\\"cursor: pointer\\\">\\n                      {{options.templateOptions.label}}</span>\\n                  <ul uib-dropdown-menu aria-labelledby=\\\"simple-dropdown\\\">\\n                      <li ng-repeat=\\\"v in options.fieldGroup track by $index\\\"\\n                          ng-show=\\\"v.key !== 'choice'\\\">\\n                          <a ng-click=\\\"options.key && options.key !== ''? (model[options.key].choice = v.key): (model.choice = v.key);\\\">\\n                              {{v.key}}</a>\\n                      </li>\\n                  </ul>\\n\\n            </span>\\n            <span ng-if=\\\"!to.choice\\\"\\n                  uib-tooltip='{{to.tooltip}}'>\\n                {{options.templateOptions.label}}\\n            </span>\\n            <button type=\\\"button\\\" ng-click=\\\"state._show = !state._show\\\"\\n                    class=\\\"btn btn-white btn-xs\\\"\\n                    style=\\\"border: none;background-color: transparent;\\\"\\n                    ng-bind=\\\"state._show? '-': '+'\\\">\\n            </button>\\n        </legend>\\n        <div ng-show=\\\"state._show\\\">\\n            <formly-transclude></formly-transclude>\\n        </div>\\n    </fieldset>\\n    <br>\\n</div>\\n<div ng-if=\\\"to.noPanel\\\">\\n    <formly-transclude></formly-transclude>\\n</div>\\n<div ng-show=\\\"(model[options.key].null && to.null)\\\">\\n    <div class=\\\"form-group\\\">\\n        <div class=\\\"col-sm-offset-2 col-sm-10\\\">\\n            <button type=\\\"button\\\" class=\\\"btn btn-white btn-xs\\\"\\n                    ng-click=\\\"model[options.key].null = false;\\\" style=\\\"z-index: 1;\\\"> add {{to.label}}\\n            </button>\\n        </div>\\n    </div>\\n</div>\\n\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./components/formly/panel.html\n ** module id = 19\n ** module chunks = 0\n **/","module.exports = \"<div class=\\\"clearfix\\\"></div>\\n<div>\\n    <div dnd-list=\\\"model[options.key]\\\"\\n         class=\\\"cms-containers\\\" style=\\\"min-height: 0px\\\">\\n        <div class=\\\"repeatsection\\\"\\n             style=\\\"position: relative\\\"\\n             ng-repeat=\\\"element in model[options.key]\\\"\\n             dnd-draggable=\\\"element\\\"\\n             dnd-moved=\\\"model[options.key].splice($index, 1);\\\"\\n             dnd-effect-allowed=\\\"move\\\"\\n             ng-init=\\\"_fields = copyFields(to.fields)[0];_options = createFormOptions($index)\\\">\\n\\n\\n\\n            <dnd-nodrag style=\\\"display: block\\\">\\n                <div style=\\\"position: absolute;right: 0px;z-index: 10;\\\" ng-style=\\\"{'margin-top': marginTop}\\\">\\n                    <button type=\\\"button\\\" class=\\\"btn btn-xs btn-white\\\"\\n                            ng-click=\\\"model[options.key].splice($index, 1)\\\">\\n                        <i class=\\\"fa fa-trash-o\\\"></i>\\n                    </button>\\n                    <button type=\\\"button\\\" dnd-handle class=\\\"btn btn-xs btn-white\\\" style=\\\"cursor: move;\\\">:::</button>\\n                </div>\\n\\n                <formly-field options=\\\"_fields\\\"\\n                              form-options=\\\"{}\\\"\\n                              form-state=\\\"_options.formState\\\"\\n                              model=\\\"element\\\"\\n                              form=\\\"form\\\">\\n                </formly-field>\\n            </dnd-nodrag>\\n        </div>\\n    </div>\\n\\n    <div class=\\\"form-group\\\">\\n        <div class=\\\"col-sm-offset-2 col-sm-10\\\">\\n            <div ng-if=\\\"!choice\\\">\\n                <button type=\\\"button\\\" class=\\\"btn btn-white btn-xs\\\"\\n                        ng-click=\\\"addNew()\\\">{{to.btnText}}\\n                </button>\\n            </div>\\n            <div ng-if=\\\"choice\\\">\\n                <div class=\\\"btn-group-xs\\\" uib-dropdown>\\n                    <button type=\\\"button\\\" class=\\\"btn btn-white\\\" uib-dropdown-toggle>\\n                        {{to.btnText}} <span class=\\\"caret\\\"></span>\\n                    </button>\\n                    <ul class=\\\"scrollable-menu\\\" uib-dropdown-menu role=\\\"menu\\\" aria-labelledby=\\\"btn-append-to-body\\\"\\n                        style=\\\"z-index: 10000;\\\">\\n                        <li style=\\\"padding: 0px 20px;\\\" ng-show=\\\"choice.length > 7\\\">\\n                            <input type=\\\"text\\\" ng-model=\\\"_choice\\\" ng-click=\\\"$event.stopPropagation();\\\">\\n                        </li>\\n                        <li role=\\\"menuitem\\\" ng-repeat=\\\"c in choice | filter: _choice track by $index\\\">\\n                            <a ng-click=\\\"addNewWithChoice(c); _choice = ''\\\">{{c}}</a>\\n                        </li>\\n                    </ul>\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n\\n\\n</div>\\n\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./components/formly/repeatSection.html\n ** module id = 20\n ** module chunks = 0\n **/","controller.$inject = ['$scope'];\nfunction controller($scope) {\n    $scope.choice = $scope.to.fields[0].templateOptions.choice;\n    $scope.marginTop = $scope.choice ? '0px' : '15px';\n    if ($scope.choice) $scope.to.fields[0].templateOptions.noPanel = true;\n\n    $scope.formOptions = {formState: $scope.formState};\n\n    $scope.addNew = function () {\n        $scope.model[$scope.options.key] = $scope.model[$scope.options.key] || [];\n        $scope.model[$scope.options.key].push({});\n    }\n\n    $scope.addNewWithChoice = function (choice) {\n        $scope.model[$scope.options.key] = $scope.model[$scope.options.key] || [];\n        $scope.model[$scope.options.key].push({choice});\n    }\n\n    $scope.copyFields = function (fields) {\n        return angular.copy(fields);\n    }\n\n    $scope.createFormOptions = ($index) => {\n        let path = `${$scope.formState.path}.${$scope.options.key}[${$index}]`;\n        if (_.startsWith(path, '.')) path = path.substring(1);\n        return {\n            formState: {\n                path,\n                model: $scope.formState.model || $scope.model\n            }\n        }\n    }\n}\n\nexport default controller;\n\n\n/** WEBPACK FOOTER **\n ** ./components/formly/repeat-section.controller.js\n **/","module.exports = \"<div js-tree=\\\"treeConfig\\\"\\n     ng-model=\\\"tree\\\"\\n     tree=\\\"data.treeInstance\\\"\\n     tree-events=\\\"check_node:check;uncheck_node:check;\\\"></div>\\n\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./components/formly/tree.template.html\n ** module id = 22\n ** module chunks = 0\n **/","controller.$inject = ['$scope', '$timeout', 'size'];\n/**\n *\n * @param {{treeInstance}} $scope\n * @param $timeout\n */\nfunction controller($scope, $timeout) {\n    $scope.tree = $scope.options.templateOptions.options;\n\n    $scope.treeConfig = {\n        core: {\n            themes: {name: 'proton', responsive: true},\n            animation: true,\n            check_callback: true\n        },\n        plugins: [\"checkbox\"],\n        checkbox: {\n            tie_selection: false\n        },\n        version: 1\n    }\n\n    $timeout(() => $scope.treeConfig.version++);\n\n    $scope.data = {};\n\n    $scope.check = function () {\n        $timeout(() => {\n            let _arr = $scope.data.treeInstance.jstree(true).get_checked();\n            _arr = _arr.map(id => $scope.data.treeInstance.jstree(true).get_node(id).text);\n            $scope.model[$scope.options.key] = _arr;\n        });\n    }\n}\n\nexport default controller;\n\n\n/** WEBPACK FOOTER **\n ** ./components/formly/tree.controller.js\n **/","module.exports = \"<selectize config='config' options='models' ng-model=\\\"_model\\\"></selectize>\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./components/formly/ref.select.html\n ** module id = 24\n ** module chunks = 0\n **/","import QueryBuilder from \"../../common/cms/QueryBuilder\";\n\ncontroller.$inject = ['$scope', 'cms', '$timeout'];\n\nfunction controller($scope, cms, $timeout) {\n\n    // resolve\n    const type = $scope.options.templateOptions.Type;\n    $scope.models = [];\n\n    const labelProp = $scope.to.labelProp;\n\n    $scope.config = {\n        plugins: ['remove_button'],\n        dropdownParent: 'body',\n        valueField: '_id',\n        labelField: labelProp,\n        searchField: [labelProp],\n        onChange: function (val) {\n            $timeout(function () {\n                if (!$scope.to.multiple) {\n                    $scope.model[$scope.options.key] = _.find($scope.models, {_id: val});\n                } else {\n                    $scope.model[$scope.options.key] = val.map(_id => _.find($scope.models, {_id}));\n                }\n            })\n        },\n        onInitialize: function (selectize) {\n            $scope.selectize = selectize\n        }\n    }\n\n    if ($scope.to.async) {\n        $scope.config.load = function (query, callback) {\n            const queryBuilder = new QueryBuilder().limit(100).query({_textIndex: $scope.to.makeRegex ? $scope.to.makeRegex(query) : new RegExp(query, 'i')});\n            cms.loadElements(type, function (list) {\n                // $scope.models = list;\n                callback(list);\n            }, queryBuilder);\n\n        }\n    } else if ($scope.to.showWithQuery) {\n        $scope.config.load = function (query, callback) {\n            if (!query || query === '') return callback([]);\n            callback(Types[type].list);\n        }\n    } else {\n        cms.loadElements(type, () => {\n            $scope.models.push(...Types[type].list);\n        })\n    }\n\n    if (!$scope.to.multiple) $scope.config.maxItems = 1;\n\n    if ($scope.to.sortField) {\n        $scope.config.sortField = $scope.to.sortField;\n        $scope.config.score = function (search) {\n            return function (item) {\n                if (item[$scope.to.labelProp].toLowerCase().indexOf(search.toLowerCase()) === -1) return 0;\n                return 1000000 - item[$scope.to.sortField];\n            };\n        }\n    }\n\n    $scope.$watch(`model['${$scope.options.key}']`, () => {\n        if ($scope.model[$scope.options.key] && $scope.model[$scope.options.key]._id) {\n            $scope._model = $scope.model[$scope.options.key]._id;\n            if (!_.includes($scope.models.map(obj => obj._id), $scope.model[$scope.options.key]._id)) {\n                $scope.models.push($scope.model[$scope.options.key]);\n            }\n        } else if (Array.isArray($scope.model[$scope.options.key]) && $scope.model[$scope.options.key][0]._id) {\n            $scope._model = $scope.model[$scope.options.key].map(m => m._id);\n        } else if (!$scope.model[$scope.options.key]) {\n            $scope._model = '';\n            if ($scope.selectize) $scope.selectize.clear();\n        }\n    })\n\n}\n\nexport default controller;\n\n\n/** WEBPACK FOOTER **\n ** ./components/formly/ref.controller.js\n **/","class QueryBuilder {\n    constructor() {\n        this._part = false;\n        this._query = [];\n    }\n\n    part(part) {\n        this._part = part;\n        return this;\n    }\n\n    limit(limit) {\n        this._limit = limit;\n        return this;\n    }\n\n    page(_page) {\n        this._page = _page;\n        return this;\n    }\n\n    sort(_sort) {\n        if (_sort) this._sort = JSON.stringify(_sort);\n        return this;\n    }\n\n    query(_query) {\n        if (_query) this._query.push(_query);\n        return this;\n    }\n\n    search(_search) {\n        if (_search) this._search = _search;\n        return this;\n    }\n\n    populate(_populate) {\n        if (_populate) this._populate = _populate;\n        return this;\n    }\n\n    lean() {\n        this._lean = true;\n    }\n\n    build() {\n        this._skip = (this._page - 1) * this._limit;\n\n        let params = '';\n        if (this._limit) params += `limit=${this._limit}`;\n        if (this._skip) params += `&skip=${this._skip}`;\n        if (this._query) params += `&query=${JSON.stringify(this._query)}`;\n        if (this._sort) params += `&sort=${this._sort}`;\n        return params;\n    }\n\n    buildJson() {\n        this._skip = (this._page - 1) * this._limit;\n\n        let query;\n        if (this._search && this._query) {\n            query = {$and: [{_textIndex: new RegExp(this._search, \"i\")}, ...this._query]}\n        } else if (this._search) {\n            query = {_textIndex: new RegExp(this._search, \"i\")};\n        } else if (this._query.length > 0) {\n            query = {$and: [...this._query]};\n        }\n\n        const result = {};\n\n        if (this._limit) result.limit = this._limit;\n        if (this._skip) result.skip = this._skip;\n        if (query) result.query = query;\n        if (this._sort) result.limit = this._sort;\n        if (this._part) result.limit = this._part;\n        if (this._populate) result.populate = this._populate;\n        if (this._lean) result.lean = true;\n\n        return result;\n    }\n}\n\nexport default QueryBuilder;\n\n\n/** WEBPACK FOOTER **\n ** ./common/cms/QueryBuilder.js\n **/","module.exports = \"<div class=\\\"form-group\\\">\\n    <label class=\\\"control-label {{size.label}}\\\" uib-tooltip='{{to.tooltip}}'>\\n        {{to.label}}\\n    </label>\\n    <div class=\\\"{{size.input}}\\\">\\n\\n        <button type=\\\"button\\\"\\n                class=\\\"btn btn-white btn-xs\\\"\\n                style=\\\"margin-top: 7px;\\\"\\n                ng-click=\\\"showCode(); selectTab();\\\">\\n            {{!show? 'show code': 'hide code'}}\\n        </button>\\n        <span class=\\\"label label-danger\\\" ng-show=\\\"hasError\\\">The code has error</span>\\n    </div>\\n\\n</div>\\n<ui-codemirror ng-show=\\\"show\\\"\\n                     ng-model=\\\"_model\\\"\\n                     ui-codemirror-opts=\\\"editorOptions\\\"\\n                     ui-codemirror=\\\"{ onLoad : codemirrorLoaded }\\\"\\n                     ui-refresh='refresh'>\\n</ui-codemirror>\\n<br>\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./components/formly/code.html\n ** module id = 27\n ** module chunks = 0\n **/","import {JSHINT} from 'jshint';\nwindow.JSHINT = JSHINT;\nimport es6 from './ecma6.json';\nimport es5 from './ecma5.json';\nimport cmsdef from './cms-def.json';\nimport 'jquery-ui/ui/effect';\n\ncontroller.$inject = ['$scope', '$http', 'size'];\nfunction controller($scope, $http, size) {\n\n    $scope.size = size;\n    $scope.hasError = false;\n    $scope._model = $scope.model[$scope.options.key] ? $scope.model[$scope.options.key].toString().replace('\"use strict\";\\n\\n', '') : 'function () {\\n}';\n\n\n    $scope.$watch('_model', function (value) {\n        if ($scope._model || $scope._model !== '') {\n            try {\n                const escape = s => s.replace(/\\n/g, \"\\\\n\").replace(/\\r/g, \"\\\\r\").replace(/\\t/g, \"\\\\t\").replace(/\\f/g, \"\\\\f\");\n                $scope.model[$scope.options.key] = JsonFn.parse(`{\"fn\":\"${escape(value)}\"}`).fn;\n                $scope.hasError = false;\n            } catch (e) {\n                $scope.hasError = true;\n            }\n        }\n    })\n    $scope.editorOptions = {\n        lineWrapping: true,\n        lineNumbers: true,\n        autoCloseBrackets: true,\n        showHint: true,\n        mode: 'javascript',\n        tabSize: 2,\n        gutters: [\"CodeMirror-lint-markers\"],\n        lint: function (text, options, cm) {\n            const linter = cm.getHelper(CodeMirror.Pos(0, 0), 'lint');\n            _.merge(options, {\n                esversion: 6,\n                debug: true,\n                '-W025': true,\n                asi: true\n            });\n            return linter(text, options);\n        }\n    };\n\n\n    $scope.codemirrorLoaded = function (editor) {\n        $scope.editor = editor;\n        const server = new CodeMirror.TernServer({defs: [es5, es6, cmsdef]});\n        editor.setOption(\"extraKeys\", {\n            \"Ctrl-Space\": function (cm) {\n                server.complete(cm);\n            },\n            \"Ctrl-I\": function (cm) {\n                server.showType(cm);\n            },\n            \"Ctrl-O\": function (cm) {\n                server.showDocs(cm);\n            },\n            \"Alt-.\": function (cm) {\n                server.jumpToDef(cm);\n            },\n            \"Alt-,\": function (cm) {\n                server.jumpBack(cm);\n            },\n            \"Ctrl-Q\": function (cm) {\n                server.rename(cm);\n            },\n            \"Ctrl-.\": function (cm) {\n                server.selectName(cm);\n            },\n            'Ctrl-L': function (cm) {\n                if ($('.cms-window-placeholder').hasClass('cms-window')) {\n                    $('.cms-window-placeholder').removeClass('cms-window');\n                } else {\n                    $('.cms-window-placeholder').addClass('cms-window');\n                }\n                cm.setOption(\"fullScreen\", !cm.getOption(\"fullScreen\"));\n            },\n            'Esc': function (cm) {\n                $('.cms-window-placeholder').removeClass('cms-window');\n                if (cm.getOption(\"fullScreen\")) cm.setOption(\"fullScreen\", false);\n            }\n        })\n        editor.on(\"cursorActivity\", function (cm) {\n            server.updateArgHints(cm);\n        });\n    };\n\n    $scope.selectTab = function () {\n        $scope.refresh = !$scope.refresh;\n    };\n\n    $scope.show = false;\n    $scope.showCode = function () {\n        /*if ($scope.show === false) {\n            $('.cms-window-placeholder').switchClass(null, 'cms-window', 500, \"easeInOutQuad\");\n        } else {\n            $('.cms-window-placeholder').switchClass('cms-window', null, 500, \"easeInOutQuad\");\n        }*/\n        $scope.show = !$scope.show\n    }\n\n}\n\nexport default controller;\n\n\n/** WEBPACK FOOTER **\n ** ./components/formly/code.controller.js\n **/","module.exports = (__webpack_require__(2))(388);\n\n\n/*****************\n ** WEBPACK FOOTER\n ** delegated ./node_modules/jshint/src/jshint.js from dll-reference lib_lib\n ** module id = 29\n ** module chunks = 0\n **/","module.exports = (__webpack_require__(2))(404);\n\n\n/*****************\n ** WEBPACK FOOTER\n ** delegated ./frontend/components/formly/ecma6.json from dll-reference lib_lib\n ** module id = 30\n ** module chunks = 0\n **/","module.exports = (__webpack_require__(2))(4);\n\n\n/*****************\n ** WEBPACK FOOTER\n ** delegated ./frontend/components/formly/ecma5.json from dll-reference lib_lib\n ** module id = 31\n ** module chunks = 0\n **/","module.exports = (__webpack_require__(2))(5);\n\n\n/*****************\n ** WEBPACK FOOTER\n ** delegated ./frontend/components/formly/cms-def.json from dll-reference lib_lib\n ** module id = 32\n ** module chunks = 0\n **/","module.exports = (__webpack_require__(2))(6);\n\n\n/*****************\n ** WEBPACK FOOTER\n ** delegated ./node_modules/jquery-ui/ui/effect.js from dll-reference lib_lib\n ** module id = 33\n ** module chunks = 0\n **/","controller.$inject = ['$scope'];\nfunction controller($scope) {\n    var unique = 1;\n\n    $scope.formOptions = {formState: $scope.formState};\n    $scope.addNew = addNew;\n\n    $scope.copyItemOptions = copyItemOptions;\n\n    function copyItemOptions(field) {\n        return angular.copy(field);\n    }\n\n    function addNew() {\n        $scope.model[$scope.options.key] = $scope.model[$scope.options.key] || [];\n        var array = $scope.model[$scope.options.key];\n        array.push('');\n    }\n\n    $scope.createFormState = ($index) => {\n        let path = `${$scope.formState.path}.${$scope.options.key}[${$index}]`;\n        if (_.startsWith(path, '.')) path = path.substring(1);\n        return {\n            path,\n            model: $scope.formState.model || $scope.model\n        }\n    }\n}\n\nexport default controller;\n\n\n/** WEBPACK FOOTER **\n ** ./components/formly/array.controller.js\n **/","module.exports = \"<div style=\\\"min-height: 20px;position: relative;\\\"\\n     ng-repeat=\\\"element in model[options.key] track by $index\\\"\\n     ng-init=\\\"itemOptions = copyItemOptions(to.field);_formState = createFormState($index)\\\">\\n    <button type=\\\"button\\\" class=\\\"btn btn-xs btn-white\\\"\\n            style=\\\"position: absolute;right: 0px;z-index: 10;\\\"\\n            ng-click=\\\"model[options.key].splice($index, 1)\\\">\\n        <i class=\\\"fa fa-trash-o\\\"></i>\\n    </button>\\n    <formly-field options=\\\"itemOptions\\\"\\n                  model=\\\"model[options.key]\\\"\\n                  form=\\\"form\\\"\\n                  form-state=\\\"_formState\\\"\\n                  index=\\\"$index\\\">\\n    </formly-field>\\n</div>\\n<div class=\\\"form-group\\\">\\n    <div class=\\\"col-sm-offset-2 col-sm-10\\\">\\n        <button type=\\\"button\\\" class=\\\"btn btn-white btn-xs\\\"\\n                ng-click=\\\"addNew()\\\" style=\\\"z-index: 1;\\\">{{to.btnText}}\\n        </button>\\n    </div>\\n</div>\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./components/formly/array.template.html\n ** module id = 35\n ** module chunks = 0\n **/","controller.$inject = ['$scope'];\nfunction controller($scope) {\n    var unique = 1;\n\n    $scope.formOptions = {formState: $scope.formState};\n    $scope.addNew = addNew;\n\n    $scope.copyItemOptions = copyItemOptions;\n\n    $scope.getCols = function () {\n\n    }\n\n    function copyItemOptions(field) {\n        return angular.copy(field);\n    }\n\n    function addNew() {\n        $scope.model[$scope.options.key] = $scope.model[$scope.options.key] || [];\n        var array = $scope.model[$scope.options.key];\n        array.push({});\n    }\n\n    $scope.createFormState = ($index) => {\n        let path = `${$scope.formState.path}.${$scope.options.key}[${$index}]`;\n        if (_.startsWith(path, '.')) path = path.substring(1);\n        return {\n            path,\n            model: $scope.formState.model || $scope.model\n        }\n    }\n}\n\nexport default controller;\n\n\n/** WEBPACK FOOTER **\n ** ./components/formly/table.controller.js\n **/","module.exports = \"<table class=\\\"table cms-admin-table cms-table-section\\\">\\n    <thead>\\n    <tr>\\n        <th ng-repeat=\\\"col in to.fields track by $index\\\"\\n            ng-style=\\\"{width:to.widths ? to.widths.split(' ')[$index] + '%':'initial'}\\\">{{col.templateOptions.label}}\\n        </th>\\n        <th>X</th>\\n    </tr>\\n    </thead>\\n    <tbody>\\n    <tr ng-repeat=\\\"element in model[options.key] track by $index\\\"\\n        ng-init=\\\"_index = $index;_formState = createFormState($index)\\\">\\n        <td ng-repeat=\\\"field in to.fields\\\"\\n            ng-init=\\\"_field = copyItemOptions(field)\\\">\\n            <formly-field options=\\\"_field\\\"\\n                          model=\\\"model[options.key][_index]\\\"\\n                          form=\\\"form\\\"\\n                          form-state=\\\"_formState\\\">\\n            </formly-field>\\n        </td>\\n        <td>\\n            <button type=\\\"button\\\" class=\\\"btn btn-xs btn-white\\\"\\n                    tabIndex=\\\"-1\\\"\\n                    ng-click=\\\"model[options.key].splice(_index, 1)\\\">\\n                <i class=\\\"fa fa-trash-o\\\"></i>\\n            </button>\\n        </td>\\n    </tr>\\n    </tbody>\\n</table>\\n\\n<button type=\\\"button\\\" class=\\\"btn btn-white btn-xs\\\"\\n        ng-click=\\\"addNew()\\\" style=\\\"z-index: 1;\\\">{{to.btnText}}\\n</button>\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./components/formly/table.template.html\n ** module id = 37\n ** module chunks = 0\n **/","controller.$inject = ['$scope', 'cms'];\n\nfunction controller($scope, cms) {\n    $scope.to.options = _.map(cms.data.types, (v, k) => ({name: k, value: k}));\n}\n\n\nexport default controller;\n\n\n/** WEBPACK FOOTER **\n ** ./components/formly/select-type.controller.js\n **/","controller.$inject = ['$scope'];\n\nfunction controller($scope) {\n    const options = $scope.to.options = [];\n    let {path, model} = $scope.formState;\n    path = _.dropRight(path.split('\\.')).join('.');\n\n    let {containers} = _.get(model, path);\n    $scope.to.labelProp = 'Type';\n    const map = {};\n    $scope.getLabel = selected => selected && selected.ref ? map[selected.ref] : '';\n\n    cms.walkInContainers(containers, (element, e) => {\n        options.push({Type: element.type, ref: e._id});\n        map[e._id] = `${element.type} : ${e[Types[element.type].info.title]}`;\n    })\n}\n\n\nexport default controller;\n\n\n/** WEBPACK FOOTER **\n ** ./components/formly/select-element.controller.js\n **/","controller.$inject = ['$scope', 'cms'];\n\nfunction controller($scope, cms) {\n    debugger;\n    let {path, model} = $scope.formState;\n    path = _.dropRight(path.split('\\.')).join('.');\n\n    const Type = cms.data.types[_.get(model,path).BindType];\n    $scope.to.options = _.map(Type.columns, v => ({name: v, value: v}));\n}\n\n\nexport default controller;\n\n\n/** WEBPACK FOOTER **\n ** ./components/formly/select-property.controller.js\n **/","controller.$inject = ['$scope', 'cms', '$timeout'];\n\nfunction controller($scope, cms, $timeout) {\n    function getProperties() {\n        try {\n            const Type = cms.data.types[$scope.model.child.Type];\n            $scope.to.options = _.map(Type.columns, v => ({name: v, value: v}));\n        } catch (e) {\n        }\n    }\n\n    getProperties();\n    $timeout(()=> {\n        $scope.$watch('model.child.Type', () => {\n            getProperties();\n        })\n    }, 200);\n\n}\n\n\nexport default controller;\n\n\n/** WEBPACK FOOTER **\n ** ./components/formly/select-child-property.controller.js\n **/","controller.$inject = ['$scope', 'cms'];\n\nfunction controller($scope, cms) {\n    let {path, model} = $scope.formState;\n    path = _.dropRight(path.split('\\.')).join('.');\n\n    const {BindType} = _.get(model, path);\n    const Type = cms.data.types[BindType];\n    $scope.to.options = _.map(Type.fn, (v, k) => ({name: k, value: k}));\n}\n\n\nexport default controller;\n\n\n/** WEBPACK FOOTER **\n ** ./components/formly/select-fn.controller.js\n **/","module.exports = \"<selectize\\n        config=\\\"{\\n            plugins: ['remove_button'],\\n            dropdownParent: 'body',\\n            valueField: 'value',\\n            labelField: 'name',\\n            searchField: ['name'],\\n            maxItems:to.multiple ? 50:1\\n        }\\\" options='to.options' ng-model=\\\"model[options.key]\\\"></selectize>\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./components/formly/select.html\n ** module id = 43\n ** module chunks = 0\n **/","module.exports = \"<ui-select data-ng-model=\\\"model[options.key]\\\" theme=\\\"bootstrap\\\" on-select=\\\"onSelect()\\\" append-to-body=\\\"true\\\">\\n    <ui-select-match allow-clear=\\\"true\\\" placeholder=\\\"{{to.placeholder}}\\\">\\n        {{getLabel? getLabel($select.selected): $select.selected[to.labelProp]}}\\n    </ui-select-match>\\n    <ui-select-choices data-repeat=\\\"item in to.options | filterBy: [to.labelProp]: $select.search\\\">\\n        <div ng-bind-html=\\\"getLabel? getLabel(item): item[to.labelProp] | highlight: $select.search\\\"></div>\\n    </ui-select-choices>\\n</ui-select>\\n\\n\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./components/formly/select-whole.html\n ** module id = 44\n ** module chunks = 0\n **/","module.exports = \"<ui-select multiple data-ng-model=\\\"model[options.key]\\\" theme=\\\"bootstrap\\\" append-to-body=\\\"true\\\">\\n    <ui-select-match placeholder=\\\"{{to.placeholder}}\\\">\\n        {{$item.name}}\\n    </ui-select-match>\\n    <ui-select-choices data-repeat=\\\"item.value as item in to.options | filterBy: ['name']: $select.search\\\">\\n        <div ng-bind-html=\\\"item.name | highlight: $select.search\\\"></div>\\n    </ui-select-choices>\\n</ui-select>\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./components/formly/multi-select.html\n ** module id = 45\n ** module chunks = 0\n **/","controller.$inject = ['$scope', '$http'];\n\nfunction controller($scope, $http) {\n    $scope.add = function (item) {\n        $scope.model[$scope.options.key] = $scope.model[$scope.options.key] || [];\n        $scope.model[$scope.options.key].push(item);\n    }\n}\n\n\nexport default controller;\n\n\n/** WEBPACK FOOTER **\n ** ./components/formly/bs-grid-select.controller.js\n **/","module.exports = \"<div class=\\\"ui-select-container ui-select-multiple ui-select-bootstrap dropdown form-control\\\">\\n    <span>\\n        <button type=\\\"button\\\" class=\\\"ui-select-match-item btn btn-default btn-xs\\\"\\n                style=\\\"min-width: 30px;\\\"\\n                ng-click=\\\"model[options.key].splice($index,1)\\\"\\n                ng-repeat=\\\"item in model[options.key] track by $index\\\">\\n            {{item}}\\n        </button>\\n    </span>\\n    <div class=\\\"btn-group\\\" uib-dropdown>\\n        <input class=\\\"ui-select-search input-xs\\\" uib-dropdown-toggle>\\n        <ul uib-dropdown-menu role=\\\"menu\\\" aria-labelledby=\\\"single-button\\\">\\n            <li role=\\\"menuitem\\\" ng-repeat=\\\"option in to.options track by $index\\\">\\n                <a ng-click=\\\"add(option.value)\\\">{{option.name}}</a>\\n            </li>\\n        </ul>\\n    </div>\\n</div>\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./components/formly/bs-grid-select.html\n ** module id = 47\n ** module chunks = 0\n **/","module.exports = \"<div class=\\\"checkbox\\\">\\n\\t<label>\\n\\t\\t<input type=\\\"checkbox\\\"\\n           class=\\\"formly-field-checkbox\\\"\\n\\t\\t       ng-model=\\\"model[options.key]\\\">\\n\\t\\t{{to.label}}\\n\\t\\t{{to.required ? '*' : ''}}\\n\\t</label>\\n</div>\\n\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../~/angular-formly-templates-bootstrap/src/types/checkbox.html\n ** module id = 48\n ** module chunks = 0\n **/","controller.$inject = ['$scope'];\n\nfunction controller($scope) {\n    $scope.save = () => $scope.$emit('saveContainers', {\n        type: 'Layout',\n        cb: containers => {\n            $scope.model[$scope.options.key] = containers;\n        }\n    });\n    $scope.restore = () => $scope.$emit('restoreContainers', {\n        type: 'Layout',\n        containers: $scope.model[$scope.options.key]\n    });\n}\n\nexport default controller;\n\n\n/** WEBPACK FOOTER **\n ** ./components/formly/saveContainersController.js\n **/","module.exports = \"<formly-form fields=\\\"_fields\\\"\\n             model=\\\"_model\\\"\\n             options=\\\"{formState:_formState}\\\"\\n             form=\\\"form\\\">\\n</formly-form>\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./components/formly/recursive.html\n ** module id = 50\n ** module chunks = 0\n **/","controller.$inject = ['$scope'];\n\nfunction controller($scope) {\n    const path  = $scope.to.path;\n    const fields = $scope.formState.fields || $scope.fields;\n    const field = angular.copy(_.find(fields, {key:path}));\n    field.key = $scope.options.key;\n    // resolve fields\n    $scope._fields = [field];\n\n    // resolve model\n    if (!$scope.model[$scope.options.key]) $scope.model[$scope.options.key] = {};\n    $scope._model = $scope.model[$scope.options.key];\n\n    // resolve formState;\n    $scope._formState = {\n        model: $scope.model,\n        fields\n    }\n\n}\n\nexport default controller;\n\n\n/** WEBPACK FOOTER **\n ** ./components/formly/recursive.controller.js\n **/","module.exports = (__webpack_require__(2))(51);\n\n\n/*****************\n ** WEBPACK FOOTER\n ** delegated ./node_modules/api-check/dist/api-check.js from dll-reference lib_lib\n ** module id = 52\n ** module chunks = 0\n **/","module.exports = (__webpack_require__(2))(21);\n\n\n/*****************\n ** WEBPACK FOOTER\n ** delegated ./node_modules/angular-ui-switch/angular-ui-switch.js from dll-reference lib_lib\n ** module id = 53\n ** module chunks = 0\n **/","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!./../css-loader/index.js!./angular-ui-switch.css\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!./../style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!./../css-loader/index.js!./angular-ui-switch.css\", function() {\n\t\t\tvar newContent = require(\"!!./../css-loader/index.js!./angular-ui-switch.css\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../~/angular-ui-switch/angular-ui-switch.css\n ** module id = 54\n ** module chunks = 0\n **/","exports = module.exports = require(\"./../css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \".switch {\\n  background: #fff;\\n  border: 1px solid #dfdfdf;\\n  position: relative;\\n  display: inline-block;\\n  box-sizing: content-box;\\n  overflow: visible;\\n  width: 52px;\\n  height: 30px;\\n  padding: 0px;\\n  margin: 0px;\\n  border-radius: 20px;\\n  cursor: pointer;\\n  box-shadow: rgb(223, 223, 223) 0px 0px 0px 0px inset;\\n  transition: 0.3s ease-out all;\\n  -webkit-transition: 0.3s ease-out all;\\n  top: -1px;\\n}\\n/*adding a wide width for larger switch text*/\\n.switch.wide {\\n  width:80px;\\n}\\n.switch small {\\n  background: #fff;\\n  border-radius: 100%;\\n  box-shadow: 0 1px 3px rgba(0,0,0,0.4);\\n  width: 30px;\\n  height: 30px;\\n  position: absolute;\\n  top: 0px;\\n  left: 0px;\\n  transition: 0.3s ease-out all;\\n  -webkit-transition: 0.3s ease-out all;\\n}\\n.switch.checked {\\n  background: rgb(100, 189, 99);\\n  border-color: rgb(100, 189, 99);\\n}\\n.switch.checked small {\\n  left: 22px;\\n}\\n/*wider switch text moves small further to the right*/\\n.switch.wide.checked small {\\n  left:52px;\\n}\\n/*styles for switch-text*/\\n.switch .switch-text {\\n  font-family:Arial, Helvetica, sans-serif;\\n  font-size:13px;\\n}\\n\\n.switch .off {\\n  display:block;\\n  position: absolute;\\n  right: 10%;\\n  top: 25%;\\n  z-index: 0;\\n  color:#A9A9A9;\\n}\\n\\n.switch .on {\\n  display:none;\\n   z-index: 0;\\n  color:#fff;\\n  position: absolute;\\n  top: 25%;\\n  left: 9%;\\n}\\n\\n.switch.checked .off {\\n  display:none;\\n}\\n\\n.switch.checked .on {\\n  display:block;\\n\\n}\\n\\n.switch.disabled {\\n  opacity: .50;\\n  cursor: not-allowed;\\n}\\n\", \"\"]);\n\n// exports\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../~/css-loader!../~/angular-ui-switch/angular-ui-switch.css\n ** module id = 55\n ** module chunks = 0\n **/","module.exports = (__webpack_require__(2))(24);\n\n\n/*****************\n ** WEBPACK FOOTER\n ** delegated ./node_modules/css-loader/lib/css-base.js from dll-reference lib_lib\n ** module id = 56\n ** module chunks = 0\n **/","module.exports = (__webpack_require__(2))(25);\n\n\n/*****************\n ** WEBPACK FOOTER\n ** delegated ./node_modules/style-loader/addStyles.js from dll-reference lib_lib\n ** module id = 57\n ** module chunks = 0\n **/","module.exports = (__webpack_require__(2))(52);\n\n\n/*****************\n ** WEBPACK FOOTER\n ** delegated ./node_modules/angular-formly/dist/formly.js from dll-reference lib_lib\n ** module id = 58\n ** module chunks = 0\n **/","module.exports = (__webpack_require__(2))(53);\n\n\n/*****************\n ** WEBPACK FOOTER\n ** delegated ./node_modules/angular-formly-templates-bootstrap/dist/angular-formly-templates-bootstrap.js from dll-reference lib_lib\n ** module id = 59\n ** module chunks = 0\n **/","module.exports = (__webpack_require__(2))(26);\n\n\n/*****************\n ** WEBPACK FOOTER\n ** delegated ./node_modules/jstree/dist/jstree.js from dll-reference lib_lib\n ** module id = 60\n ** module chunks = 0\n **/","module.exports = (__webpack_require__(2))(27);\n\n\n/*****************\n ** WEBPACK FOOTER\n ** delegated ./node_modules/jstree-bootstrap-theme/dist/themes/proton/style.min.css from dll-reference lib_lib\n ** module id = 61\n ** module chunks = 0\n **/","module.exports = (__webpack_require__(2))(46);\n\n\n/*****************\n ** WEBPACK FOOTER\n ** delegated ./node_modules/ng-js-tree/dist/ngJsTree.min.js from dll-reference lib_lib\n ** module id = 62\n ** module chunks = 0\n **/","module.exports = (__webpack_require__(2))(47);\n\n\n/*****************\n ** WEBPACK FOOTER\n ** delegated ./node_modules/ui-select/index.js from dll-reference lib_lib\n ** module id = 63\n ** module chunks = 0\n **/","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!./../../css-loader/index.js!./select.min.css\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!./../../style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!./../../css-loader/index.js!./select.min.css\", function() {\n\t\t\tvar newContent = require(\"!!./../../css-loader/index.js!./select.min.css\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../~/ui-select/dist/select.min.css\n ** module id = 64\n ** module chunks = 0\n **/","exports = module.exports = require(\"./../../css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \"/*!\\n * ui-select\\n * http://github.com/angular-ui/ui-select\\n * Version: 0.18.1 - 2016-07-10T00:30:49.466Z\\n * License: MIT\\n */.ui-select-highlight{font-weight:700}.ui-select-offscreen{clip:rect(0 0 0 0)!important;width:1px!important;height:1px!important;border:0!important;margin:0!important;padding:0!important;overflow:hidden!important;position:absolute!important;outline:0!important;left:0!important;top:0!important}.ui-select-choices-row:hover{background-color:#f5f5f5}.ng-dirty.ng-invalid>a.select2-choice{border-color:#D44950}.select2-result-single{padding-left:0}.select-locked>.ui-select-match-close,.select2-locked>.select2-search-choice-close{display:none}body>.select2-container.open{z-index:9999}.ui-select-container.select2.direction-up .ui-select-match,.ui-select-container[theme=select2].direction-up .ui-select-match{border-radius:0 0 4px 4px}.ui-select-container.select2.direction-up .ui-select-dropdown,.ui-select-container[theme=select2].direction-up .ui-select-dropdown{border-radius:4px 4px 0 0;border-top-width:1px;border-top-style:solid;box-shadow:0 -4px 8px rgba(0,0,0,.25);margin-top:-4px}.ui-select-container.select2.direction-up .ui-select-dropdown .select2-search,.ui-select-container[theme=select2].direction-up .ui-select-dropdown .select2-search{margin-top:4px}.ui-select-container.select2.direction-up.select2-dropdown-open .ui-select-match,.ui-select-container[theme=select2].direction-up.select2-dropdown-open .ui-select-match{border-bottom-color:#5897fb}.selectize-input.selectize-focus{border-color:#007FBB!important}.selectize-control>.selectize-dropdown,.selectize-control>.selectize-input>input{width:100%}.ng-dirty.ng-invalid>div.selectize-input{border-color:#D44950}.ui-select-container[theme=selectize].direction-up .ui-select-dropdown{box-shadow:0 -4px 8px rgba(0,0,0,.25);margin-top:-2px}.btn-default-focus{color:#333;background-color:#EBEBEB;border-color:#ADADAD;text-decoration:none;outline:-webkit-focus-ring-color auto 5px;outline-offset:-2px;box-shadow:inset 0 1px 1px rgba(0,0,0,.075),0 0 8px rgba(102,175,233,.6)}.ui-select-bootstrap .ui-select-toggle{position:relative}.ui-select-bootstrap .ui-select-toggle>.caret{position:absolute;height:10px;top:50%;right:10px;margin-top:-2px}.input-group>.ui-select-bootstrap.dropdown{position:static}.input-group>.ui-select-bootstrap>input.ui-select-search.form-control{border-radius:4px 0 0 4px}.input-group>.ui-select-bootstrap>input.ui-select-search.form-control.direction-up{border-radius:4px 0 0 4px!important}.ui-select-bootstrap>.ui-select-match>.btn{text-align:left!important}.ui-select-bootstrap>.ui-select-match>.caret{position:absolute;top:45%;right:15px}.ui-select-bootstrap>.ui-select-choices,.ui-select-bootstrap>.ui-select-no-choice{width:100%;height:auto;max-height:200px;overflow-x:hidden;margin-top:-1px}body>.ui-select-bootstrap.open{z-index:1000}.ui-select-multiple.ui-select-bootstrap{height:auto;padding:3px 3px 0}.ui-select-multiple.ui-select-bootstrap input.ui-select-search{background-color:transparent!important;border:none;outline:0;height:1.666666em;margin-bottom:3px}.ui-select-multiple.ui-select-bootstrap .ui-select-match .close{font-size:1.6em;line-height:.75}.ui-select-multiple.ui-select-bootstrap .ui-select-match-item{outline:0;margin:0 3px 3px 0}.ui-select-multiple .ui-select-match-item{position:relative}.ui-select-multiple .ui-select-match-item.dropping .ui-select-match-close{pointer-events:none}.ui-select-multiple:hover .ui-select-match-item.dropping-before:before{content:\\\"\\\";position:absolute;top:0;right:100%;height:100%;margin-right:2px;border-left:1px solid #428bca}.ui-select-multiple:hover .ui-select-match-item.dropping-after:after{content:\\\"\\\";position:absolute;top:0;left:100%;height:100%;margin-left:2px;border-right:1px solid #428bca}.ui-select-bootstrap .ui-select-choices-row>a{display:block;padding:3px 20px;clear:both;font-weight:400;line-height:1.42857143;color:#333;white-space:nowrap}.ui-select-bootstrap .ui-select-choices-row>a:focus,.ui-select-bootstrap .ui-select-choices-row>a:hover{text-decoration:none;color:#262626;background-color:#f5f5f5}.ui-select-bootstrap .ui-select-choices-row.active>a{color:#fff;text-decoration:none;outline:0;background-color:#428bca}.ui-select-bootstrap .ui-select-choices-row.active.disabled>a,.ui-select-bootstrap .ui-select-choices-row.disabled>a{color:#777;cursor:not-allowed;background-color:#fff}.ui-select-match.ng-hide-add,.ui-select-search.ng-hide-add{display:none!important}.ui-select-bootstrap.ng-dirty.ng-invalid>button.btn.ui-select-match{border-color:#D44950}.ui-select-container[theme=bootstrap].direction-up .ui-select-dropdown{box-shadow:0 -4px 8px rgba(0,0,0,.25)}\\n/*# sourceMappingURL=select.min.css.map */\\n\", \"\"]);\n\n// exports\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../~/css-loader!../~/ui-select/dist/select.min.css\n ** module id = 65\n ** module chunks = 0\n **/","module.exports = (__webpack_require__(2))(335);\n\n\n/*****************\n ** WEBPACK FOOTER\n ** delegated ./node_modules/selectize/dist/css/selectize.css from dll-reference lib_lib\n ** module id = 66\n ** module chunks = 0\n **/","module.exports = (__webpack_require__(2))(337);\n\n\n/*****************\n ** WEBPACK FOOTER\n ** delegated ./node_modules/selectize/dist/js/standalone/selectize.js from dll-reference lib_lib\n ** module id = 67\n ** module chunks = 0\n **/","angular.module('selectize', []).value('selectizeConfig', {}).directive(\"selectize\", ['selectizeConfig', function (selectizeConfig) {\n    return {\n        restrict: 'EA',\n        require: '^ngModel',\n        scope: {ngModel: '=', config: '=?', options: '=?', ngDisabled: '=', ngRequired: '&'},\n        link: function (scope, element, attrs, modelCtrl) {\n\n            var selectize,\n                settings = angular.extend({}, Selectize.defaults, selectizeConfig, scope.config);\n\n            scope.options = scope.options || [];\n            scope.config = scope.config || {};\n\n            var isEmpty = function (val) {\n                return val === undefined || val === null || !val.length; //support checking empty arrays\n            };\n\n            var toggle = function (disabled) {\n                disabled ? selectize.disable() : selectize.enable();\n            }\n\n            var validate = function () {\n                var isInvalid = (scope.ngRequired() || attrs.required || settings.required) && isEmpty(scope.ngModel);\n                modelCtrl.$setValidity('required', !isInvalid);\n            };\n\n            var setSelectizeOptions = function (curr, prev) {\n                angular.forEach(prev, function (opt) {\n                    if (curr.indexOf(opt) === -1) {\n                        var value = opt[settings.valueField];\n                        selectize.removeOption(value, true);\n                    }\n                });\n\n                selectize.addOption(curr);\n\n                selectize.refreshOptions(false); // updates results if user has entered a query\n                setSelectizeValue();\n            }\n\n            var setSelectizeValue = function () {\n                validate();\n\n                selectize.$control.toggleClass('ng-valid', modelCtrl.$valid);\n                selectize.$control.toggleClass('ng-invalid', modelCtrl.$invalid);\n                selectize.$control.toggleClass('ng-dirty', modelCtrl.$dirty);\n                selectize.$control.toggleClass('ng-pristine', modelCtrl.$pristine);\n\n                if (!angular.equals(selectize.items, scope.ngModel)) {\n                    selectize.setValue(scope.ngModel, true);\n                }\n            }\n\n            settings.onChange = function (value) {\n                var value = angular.copy(selectize.items);\n                if (settings.maxItems == 1) {\n                    value = value[0]\n                }\n                modelCtrl.$setViewValue(value);\n\n                if (scope.config.onChange) {\n                    scope.config.onChange.apply(this, arguments);\n                }\n            };\n\n            settings.onOptionAdd = function (value, data) {\n                if (scope.options.indexOf(data) === -1) {\n                    scope.options.push(data);\n\n                    if (scope.config.onOptionAdd) {\n                        scope.config.onOptionAdd.apply(this, arguments);\n                    }\n                }\n            };\n\n            settings.onInitialize = function () {\n                selectize = element[0].selectize;\n\n                setSelectizeOptions(scope.options);\n\n                //provides a way to access the selectize element from an\n                //angular controller\n                if (scope.config.onInitialize) {\n                    scope.config.onInitialize(selectize);\n                }\n\n                scope.$watchCollection('options', setSelectizeOptions);\n                scope.$watch('ngModel', setSelectizeValue, true);\n                scope.$watch('ngDisabled', toggle);\n            };\n\n            element.selectize(settings);\n\n            element.on('$destroy', function () {\n                if (selectize) {\n                    selectize.destroy();\n                    element = null;\n                }\n            });\n        }\n    };\n}]);\n\n\n/** WEBPACK FOOTER **\n ** ./components/formly/selectize.js\n **/","module.exports = (__webpack_require__(2))(387);\n\n\n/*****************\n ** WEBPACK FOOTER\n ** delegated ./node_modules/tinycolor2/tinycolor.js from dll-reference lib_lib\n ** module id = 69\n ** module chunks = 0\n **/","module.exports = (__webpack_require__(2))(54);\n\n\n/*****************\n ** WEBPACK FOOTER\n ** delegated ./node_modules/angularjs-color-picker/angularjs-color-picker.js from dll-reference lib_lib\n ** module id = 70\n ** module chunks = 0\n **/","module.exports = (__webpack_require__(2))(55);\n\n\n/*****************\n ** WEBPACK FOOTER\n ** delegated ./node_modules/angularjs-color-picker/angularjs-color-picker.css from dll-reference lib_lib\n ** module id = 71\n ** module chunks = 0\n **/","module.exports = (__webpack_require__(2))(57);\n\n\n/*****************\n ** WEBPACK FOOTER\n ** delegated ./node_modules/angular-sanitize/index.js from dll-reference lib_lib\n ** module id = 72\n ** module chunks = 0\n **/","module.exports = (__webpack_require__(2))(67);\n\n\n/*****************\n ** WEBPACK FOOTER\n ** delegated ./node_modules/codemirror/lib/codemirror.js from dll-reference lib_lib\n ** module id = 73\n ** module chunks = 0\n **/","module.exports = (__webpack_require__(2))(66);\n\n\n/*****************\n ** WEBPACK FOOTER\n ** delegated ./node_modules/codemirror/addon/edit/matchbrackets.js from dll-reference lib_lib\n ** module id = 74\n ** module chunks = 0\n **/","module.exports = (__webpack_require__(2))(68);\n\n\n/*****************\n ** WEBPACK FOOTER\n ** delegated ./node_modules/codemirror/addon/edit/closebrackets.js from dll-reference lib_lib\n ** module id = 75\n ** module chunks = 0\n **/","module.exports = (__webpack_require__(2))(69);\n\n\n/*****************\n ** WEBPACK FOOTER\n ** delegated ./node_modules/codemirror/addon/hint/show-hint.css from dll-reference lib_lib\n ** module id = 76\n ** module chunks = 0\n **/","module.exports = (__webpack_require__(2))(71);\n\n\n/*****************\n ** WEBPACK FOOTER\n ** delegated ./node_modules/codemirror/addon/hint/show-hint.js from dll-reference lib_lib\n ** module id = 77\n ** module chunks = 0\n **/","module.exports = (__webpack_require__(2))(72);\n\n\n/*****************\n ** WEBPACK FOOTER\n ** delegated ./node_modules/codemirror/mode/javascript/javascript.js from dll-reference lib_lib\n ** module id = 78\n ** module chunks = 0\n **/","module.exports = (__webpack_require__(2))(75);\n\n\n/*****************\n ** WEBPACK FOOTER\n ** delegated ./node_modules/codemirror/addon/display/fullscreen.css from dll-reference lib_lib\n ** module id = 79\n ** module chunks = 0\n **/","module.exports = (__webpack_require__(2))(77);\n\n\n/*****************\n ** WEBPACK FOOTER\n ** delegated ./node_modules/codemirror/addon/display/fullscreen.js from dll-reference lib_lib\n ** module id = 80\n ** module chunks = 0\n **/","module.exports = (__webpack_require__(2))(141);\n\n\n/*****************\n ** WEBPACK FOOTER\n ** delegated ./node_modules/codemirror/addon/lint/lint.css from dll-reference lib_lib\n ** module id = 81\n ** module chunks = 0\n **/","module.exports = (__webpack_require__(2))(143);\n\n\n/*****************\n ** WEBPACK FOOTER\n ** delegated ./node_modules/codemirror/addon/lint/lint.js from dll-reference lib_lib\n ** module id = 82\n ** module chunks = 0\n **/","module.exports = (__webpack_require__(2))(144);\n\n\n/*****************\n ** WEBPACK FOOTER\n ** delegated ./node_modules/codemirror/addon/lint/javascript-lint.js from dll-reference lib_lib\n ** module id = 83\n ** module chunks = 0\n **/","module.exports = (__webpack_require__(2))(145);\n\n\n/*****************\n ** WEBPACK FOOTER\n ** delegated ./node_modules/codemirror/addon/dialog/dialog.css from dll-reference lib_lib\n ** module id = 84\n ** module chunks = 0\n **/","module.exports = (__webpack_require__(2))(147);\n\n\n/*****************\n ** WEBPACK FOOTER\n ** delegated ./node_modules/codemirror/addon/dialog/dialog.js from dll-reference lib_lib\n ** module id = 85\n ** module chunks = 0\n **/","module.exports = (__webpack_require__(2))(148);\n\n\n/*****************\n ** WEBPACK FOOTER\n ** delegated ./node_modules/acorn/dist/acorn.js from dll-reference lib_lib\n ** module id = 86\n ** module chunks = 0\n **/","module.exports = (__webpack_require__(2))(149);\n\n\n/*****************\n ** WEBPACK FOOTER\n ** delegated ./node_modules/acorn/dist/acorn_loose.js from dll-reference lib_lib\n ** module id = 87\n ** module chunks = 0\n **/","module.exports = (__webpack_require__(2))(150);\n\n\n/*****************\n ** WEBPACK FOOTER\n ** delegated ./node_modules/acorn/dist/walk.js from dll-reference lib_lib\n ** module id = 88\n ** module chunks = 0\n **/","module.exports = (__webpack_require__(2))(224);\n\n\n/*****************\n ** WEBPACK FOOTER\n ** delegated ./node_modules/tern/lib/tern.js from dll-reference lib_lib\n ** module id = 89\n ** module chunks = 0\n **/","module.exports = (__webpack_require__(2))(151);\n\n\n/*****************\n ** WEBPACK FOOTER\n ** delegated ./node_modules/tern/doc/demo/polyfill.js from dll-reference lib_lib\n ** module id = 90\n ** module chunks = 0\n **/","module.exports = (__webpack_require__(2))(153);\n\n\n/*****************\n ** WEBPACK FOOTER\n ** delegated ./node_modules/tern/lib/signal.js from dll-reference lib_lib\n ** module id = 91\n ** module chunks = 0\n **/","module.exports = (__webpack_require__(2))(220);\n\n\n/*****************\n ** WEBPACK FOOTER\n ** delegated ./node_modules/tern/lib/def.js from dll-reference lib_lib\n ** module id = 92\n ** module chunks = 0\n **/","module.exports = (__webpack_require__(2))(221);\n\n\n/*****************\n ** WEBPACK FOOTER\n ** delegated ./node_modules/tern/lib/comment.js from dll-reference lib_lib\n ** module id = 93\n ** module chunks = 0\n **/","module.exports = (__webpack_require__(2))(222);\n\n\n/*****************\n ** WEBPACK FOOTER\n ** delegated ./node_modules/tern/lib/infer.js from dll-reference lib_lib\n ** module id = 94\n ** module chunks = 0\n **/","module.exports = (__webpack_require__(2))(223);\n\n\n/*****************\n ** WEBPACK FOOTER\n ** delegated ./node_modules/tern/plugin/doc_comment.js from dll-reference lib_lib\n ** module id = 95\n ** module chunks = 0\n **/","module.exports = (__webpack_require__(2))(225);\n\n\n/*****************\n ** WEBPACK FOOTER\n ** delegated ./node_modules/codemirror/addon/tern/tern.css from dll-reference lib_lib\n ** module id = 96\n ** module chunks = 0\n **/","module.exports = (__webpack_require__(2))(227);\n\n\n/*****************\n ** WEBPACK FOOTER\n ** delegated ./node_modules/codemirror/addon/tern/tern.js from dll-reference lib_lib\n ** module id = 97\n ** module chunks = 0\n **/","module.exports = (__webpack_require__(2))(228);\n\n\n/*****************\n ** WEBPACK FOOTER\n ** delegated ./node_modules/angular-ui-codemirror/src/ui-codemirror.js from dll-reference lib_lib\n ** module id = 98\n ** module chunks = 0\n **/","module.exports = \"<div ng-if=\\\"vm.showJson()\\\">\\n    <button style=\\\"width: 60px\\\"\\n            popover-placement=\\\"bottom\\\"\\n            popover-is-open=\\\"vm.isOpen\\\"\\n            popover-append-to-body=\\\"true\\\"\\n            uib-popover-template=\\\"'editable-formly.html'\\\"\\n            class=\\\"btn btn-white btn-xs\\\">\\n        edit\\n    </button>\\n</div>\\n<span popover-placement=\\\"bottom\\\"\\n      popover-is-open=\\\"vm.isOpen\\\"\\n      uib-popover-template=\\\"'editable-formly.html'\\\"\\n      popover-append-to-body=\\\"true\\\"\\n      style=\\\"cursor: pointer\\\"\\n      ng-class=\\\"{'cms-empty-value': vm.isValueUndefined}\\\"\\n      ng-if=\\\"!vm.showJson()\\\">\\n    {{!vm.isValueUndefined? vm.value: 'empty'}}\\n</span>\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./components/cms-editable/tpl.html\n ** module id = 99\n ** module chunks = 0\n **/","import data from './cms/cms'\nconst commonModule = angular.module('common', [data]);\n\nexport default commonModule.name;\n\n\n\n/** WEBPACK FOOTER **\n ** ./common/common.module.js\n **/","\"use strict\";\nimport 'ng-file-upload';\nimport TypeClass from './Type';\nimport QueryBuilder from \"./QueryBuilder\";\nimport 'angular-websocket';\nimport Uuid from 'uuid';\nimport 'jquery-ui/ui/widgets/draggable';\nimport 'jquery-ui/ui/widgets/resizable';\nimport traverse from 'traverse';\nimport 'angular-translate';\nimport 'angular-ui-notification';\nimport 'angular-ui-notification/dist/angular-ui-notification.min.css'\n\nimport _io from 'socket.io-client';\nwindow.io = _io;\n\nwindow.Enum = {\n    Load: {NOT: 'NOT', LOADING: 'LOADING', LOADED: 'LOADED', PART_LOADED: 'PART_LOADED'},\n    EditMode: {ALL: 'ALL', VIEWELEMENT: 'VIEWELEMENT', DATAELEMENT: 'DATAELEMENT', CONTAINER: 'CONTAINER'}\n}\n\nconst modelModule = angular\n    .module('common.data', ['ngFileUpload', 'ngWebSocket', 'pascalprecht.translate', 'ui-notification'])\n    .config(config)\n    .factory('cms', cms)\n    .run(run);\n\n\nconfig.$inject = ['$translateProvider'];\nfunction config($translateProvider) {\n    $translateProvider.translations('en', {\n        Add: 'Add',\n        Setting: 'Setting',\n        DeleteAll: 'Delete all',\n        Show: 'Show',\n        Submit: 'Submit',\n        Cancel: 'Cancel',\n        Apply: 'Apply',\n        'Save and add': 'Save and add'\n    });\n\n    $translateProvider.translations('de', {\n        Add: 'Hinzufgen',\n        Setting: 'Einstellung',\n        DeleteAll: 'alles Lschen',\n        Show: 'Anzeigen',\n        Submit: 'Absenden',\n        Cancel: 'Abbrechen',\n        Apply: 'bernehmen',\n        'Save and add': 'Speichern und hinzufgen'\n    });\n\n    $translateProvider.preferredLanguage('de');\n}\n\ncms.$inject = ['$http', 'Upload'];\nfunction cms($http, Upload) {\n\n\n    const data = {\n        socketQueue: {}\n    };\n    const editState = {\n        /**\n         * 0: edit by drag and drop element\n         * 1: edit by container\n         */\n        editMode: Enum.EditMode.DATAELEMENT,\n        dragType: null,\n        showContainerEdit: false\n    }\n\n    function changeEditMode(mode) {\n        if (mode === Enum.EditMode.DATAELEMENT) {\n            $('body').addClass('cms-data-element');\n        } else {\n            $('body').removeClass('cms-data-element')\n        }\n    }\n\n    changeEditMode(Enum.EditMode.DATAELEMENT);\n\n    function getType(type, ref, cb, content, onfly = true) {\n        let Type = data.types[type];\n        if (!Type || !Type.template || !ref || !_.find(Type.list, {_id: ref})) {\n            let query = ref ? (Type && _.find(Type.list, {_id: ref}) ? 'element=false' : `element=${ref}`) : 'element=false';\n            if (!Type) Type = data.types[type] = {list: []};\n            if (!Type.template) query += '&template=true';\n            if ((content && content._id) || !onfly) query = '';\n            $http.post(`/cms-types/${type}?${query}`, JsonFn.stringify(content)).then(res => {\n                const result = JsonFn.clone(res.data, true);\n\n                if (_.find(Type.list, {_id: ref})) {\n                    _.remove(Type.list, {_id: ref});\n                }\n\n                if (!ref || !_.find(Type.list, {_id: ref})) {\n                    ref = result.data ? result.data._id : null;\n                    Type.list.push(result.data);\n                }\n                if (!Type.template) {\n                    Type.template = result.template;\n                    Type.form = result.form;\n                    Type.fn = result.fn;\n                    Type.serverFn = result.serverFn;\n                    Type.info = result.info;\n                }\n                cb(_.find(Type.list, {_id: ref}));\n            })\n        } else {\n            cb(_.find(Type.list, {_id: ref}));\n        }\n    }\n\n    function createElement(type, content, cb, onfly = true) {\n        if (!onfly) {\n            updateElement(type, content, cb);\n        } else {\n            getType(type, null, cb, content, onfly);\n        }\n\n    }\n\n    function removeElement(type, _id, cb, onerror) {\n        $http.delete(`api/v1/${type}/${_id}`).then(() => {\n            _.remove(Types[type].list, {_id: _id});\n            if (cb) cb();\n        }, () => {\n            if (onerror) onerror();\n        });\n    }\n\n    function updateContainerPage() {\n        const url = location.pathname;\n        $http.post(`/cms-container-page${url}`, {containers: data.containers}).then(()=> {\n            console.log('Update container page successful');\n        });\n    }\n\n    const loadElementsPending = [];\n\n\n    function countElements(type, cb, paramsBuilder) {\n        sendWs({path: `get/api/v1/${type}/count`, params: paramsBuilder.buildJson()}, ({result:count}) => {\n            if (cb) cb(count);\n        });\n        /*$http.get(`/api/v1/${type}/count?${params}`, _transform).then(res => {\n         if (cb) cb(res.data.count);\n         });*/\n    }\n\n    function sendWs(msg, cb) {\n        const _uuid = Uuid.v1();\n        data.socketQueue[_uuid] = cb;\n        socket.send(JsonFn.stringify(_.assign(msg, {uuid: _uuid})));\n    }\n\n    function loadElements(type, cb, paramsBuilder) {\n        if (!paramsBuilder && data.types[type] && data.types[type]._load === Enum.Load.LOADED) {\n            if (cb) cb(data.types[type].list);\n            return;\n        }\n        console.time(\"loadElements\");\n        sendWs({\n                path: `get/api/v1/${type}`,\n                params: paramsBuilder ? paramsBuilder.buildJson() : {}\n            }, ({result:_list}) => {\n                console.timeEnd(\"loadElements\");\n                if (!paramsBuilder) {\n                    data.types[type].list = _list;\n                    data.types[type]._load = Enum.Load.LOADED;\n                } else {\n                    data.types[type].list = _.unionWith(_list, _.filter(data.types[type].list, e => e !== null), (e1, e2) => e1._id === e2._id);\n                    data.types[type].queryList = _list.map(e => _.find(data.types[type].list, e2 => e2._id === e._id));\n                    data.types[type]._load = Enum.Load.PART_LOADED;\n                }\n\n                if (cb) cb(data.types[type].queryList);\n            }\n        );\n        /*$http.get(`/api/v1/${type}?${JsonFn.stringify(paramsBuilder)}`, _transform).then(res => {\n         var list = JsonFn.clone(res.data, true);\n         if (!paramsBuilder) {\n         data.types[type].list = list;\n         data.types[type]._load = Enum.Load.LOADED;\n         } else {\n         data.types[type].list = _.unionWith(data.types[type].list, list, (e1, e2) => e1._id === e2._id);\n         data.types[type].queryList = list.map(e => _.find(data.types[type].list, e2 => e2._id === e._id));\n         data.types[type]._load = Enum.Load.PART_LOADED;\n         }\n\n         loadElementsPending.forEach(cb => cb(data.types[type].queryList));\n         loadElementsPending.length = 0;\n         });*/\n\n    }\n\n    function findByRef(type, ref) {\n        return _.find(data.types[type].list, {_id: ref});\n    }\n\n    function findByID(type, ID) {\n        return _.find(data.types[type].list, {ID});\n    }\n\n    function findFnByID(type, ID) {\n        const e = _.find(data.types[type].list, {ID});\n        const fn = JsonFn.clone(data.types[type].fn);\n        _.each(fn, (f, k) => fn[k] = f.bind(e));\n        return fn;\n    }\n\n    function findFnByRef(type, ref) {\n        const e = findByRef(type, ref);\n        const fn = JsonFn.clone(data.types[type].fn);\n        _.each(fn, (f, k) => fn[k] = f.bind(e));\n        return fn;\n    }\n\n    function walkInContainers(containers, cb) {\n        function walk(containers) {\n            _.each(containers, container => {\n                _.each(container.elements, element => {\n                    // save when no data in client exists\n                    loadElements(element.type, () => {\n                        const Type = Types[element.type];\n                        const e = _.find(Type.list, e => e._id === element.ref);\n                        cb(element, e, container);\n                        if (element.containers && element.containers.length > 0) {\n                            walk(element.containers);\n                        }\n                    })\n                });\n            });\n        }\n\n        walk(containers);\n    }\n\n    function updateElement(type, model, resolve, fail) {\n        sendWs({\n            path: `post/api/v1/${type}`,\n            model\n        }, ({result:model}) => {\n\n            var oldModel = _.find(Types[type].list, {_id: model._id});\n            if (oldModel && !angular.equals(oldModel, model)) {\n                for (var member in oldModel) delete oldModel[member];\n                _.assign(oldModel, model);\n            } else {\n                Types[type].list.push(model);\n            }\n\n            if (resolve) resolve(model);\n        });\n    }\n\n    function listColumns(form) {\n        if (form[0].isTab) {\n            const _fields = [];\n            form.forEach(({fields}) => {\n                _fields.push(...fields.map(field => ({\n                    value: field.key,\n                    label: field.templateOptions.label || field.key\n                })));\n            })\n            return _fields;\n        }\n        return form.map(field => ({value: field.key, label: field.templateOptions.label || field.key}));\n    }\n\n    function findField(form, property, deep = false) {\n        if (!deep) {\n            if (form[0].isTab) {\n                let result;\n                form.forEach(({fields}) => {\n                    const f = fields.find(f => f.key === property);\n                    if (f) result = f;\n                })\n                return result;\n            }\n            return form.find(f => f.key === property);\n        }\n\n        let result;\n        const last = property.split('.').pop();\n        traverse(form).forEach(function (node) {\n            if (node && node.key === last) {\n                let path = _.reduce(this.parents.filter(({node:{key}}) => !_.isEmpty(key)), (path, parent) => {\n                    path += `.${parent.node.key}`;\n                    return path;\n                }, '');\n                if (_.isEmpty(path)) {\n                    path = last\n                } else {\n                    path = path.substring(1) + '.' + last;\n                }\n                if (path === property) {\n                    result = node;\n                    this.stop();\n                }\n\n            }\n        });\n        return result;\n    }\n\n    function getContainer(path) {\n        if (!data.containers) {\n            data.containers = {};\n            updateContainerPage();\n        }\n        let container = _.get(data.containers, path);\n\n        // create if not exists\n        if (!container) {\n            const _path = _.dropRight(path.split('\\.')).join('.');\n            (_.isEmpty(_path) ? data.containers : _.get(data.containers, _path))[path.split('\\.').pop()] = {elements: []};\n            container = _.get(data.containers, path);\n            updateContainerPage();\n        }\n\n        return container;\n    }\n\n    function parseAndSaveData(_data) {\n        Object.assign(data, _data);\n        for (let k in data.types) {\n            data.types[k] = new TypeClass(data.types[k]);\n        }\n    }\n\n    function exportAll(filename, types) {\n        $http.post(`/cms-export`, {filename, types}).then(function (res) {\n            confirm('Export successful');\n        });\n    }\n\n    function importAll(types, url) {\n        $http.post(`/cms-import`, {types, url}).then(function (res) {\n            confirm('Import successful');\n        });\n    }\n\n    const uploadFile = function (file, path, cb) {\n        Upload.upload({\n            url: `/cms-files/${path}`,\n            data: {file}\n        }).then(function () {\n            if (cb) cb();\n        });\n    }\n\n    function deleteElements(type, cb) {\n        $http.delete(`/cms-types/${type}`).then(function (res) {\n            if (cb) cb();\n            confirm('delete successful');\n        });\n    }\n\n    function getAdminList() {\n        const _types = _.pick(data.types, function (Type) {\n            if (editState.editMode === Enum.EditMode.ALL) return true;\n            if (editState.editMode === Enum.EditMode.VIEWELEMENT) return Type.info.isViewElement;\n            if (editState.editMode === Enum.EditMode.DATAELEMENT) return !Type.info.isViewElement;\n            return true;\n        })\n\n        let i = -1;\n\n        return _.map(_types, (Type, k) => {\n            i++;\n            let _children = [];\n\n            const createChildren = (_properties, query, path) => {\n                const properties = JsonFn.clone(_properties);\n                const children = [];\n                if (!properties || properties.length === 0) return;\n                const property = properties.shift();\n                const field = findField(Type.form, property, true);\n                if (field.type === 'refSelect') {\n                    var _type = field.templateOptions.Type;\n                    data.types[_type].list.forEach((_element) => {\n                        const _path = `${path}.children[${children.length}]`;\n                        let _query = [{[property]: _element._id}];\n                        _query = query ? query.concat(_query) : _query;\n                        children.push({\n                            children: createChildren(properties, _query, _path),\n                            text: _element[data.types[_type].info.title],\n                            type: k,\n                            path: _path,\n                            columns: _.remove(listColumns(Type.form), _property => _property !== property),\n                            query: {$and: _query}\n                        });\n                    })\n                } else if (field.type === 'select-ref-static') {\n                    var _type = field.templateOptions.Type;\n                    data.types[_type].list.forEach((_element) => {\n                        const _path = `${path}.children[${children.length}]`;\n                        let _query = [{[property]: _element[data.types[_type].info.title]}];\n                        _query = query ? query.concat(_query) : _query;\n                        children.push({\n                            children: createChildren(properties, _query, _path),\n                            text: _element[data.types[_type].info.title],\n                            type: k,\n                            path: _path,\n                            columns: _.remove(listColumns(Type.form), _property => _property !== property),\n                            query: {$and: _query}\n                        });\n                    })\n                } else if (field.type === 'array' && field.templateOptions.field.type === 'refSelect') {\n                    var _type = field.templateOptions.field.templateOptions.Type;\n                    data.types[_type].list.forEach((_element) => {\n                        const _path = `${path}.children[${children.length}]`;\n                        let _query = [{[property]: _element._id}];\n                        _query = query ? query.concat(_query) : _query;\n                        children.push({\n                            children: createChildren(properties, _query, _path),\n                            text: _element[data.types[_type].info.title],\n                            type: k,\n                            path: _path,\n                            columns: _.remove(listColumns(Type.form), _property => _property !== property),\n                            query: {$and: _query}\n                        });\n                    })\n                } else if (field.type === 'select') {\n                    const {options} = field.templateOptions;\n                    _.each(options, ({name, value}) => {\n                        const _path = `${path}.children[${children.length}]`;\n                        let _query = [{[property]: value}];\n                        _query = query ? query.concat(_query) : _query;\n                        children.push({\n                            children: createChildren(properties, _query, _path),\n                            text: name,\n                            type: k,\n                            path: _path,\n                            columns: _.remove(listColumns(Type.form), _property => _property !== property),\n                            query: {$and: _query}\n                        });\n                    })\n                }\n\n                return children;\n            }\n\n            var config = data.types.Config.list.find(config => config.type === k);\n            const _path = `[${i}]`;\n\n            let columns = listColumns(Type.form);\n            if (config) {\n                try {\n                    config.dynamicQuery.forEach(dynamicQuery => {\n                        if (dynamicQuery.field.length === 0) return;\n                        _children.push(...createChildren(dynamicQuery.field, null, _path));\n                    });\n                    columns = _.filter(columns, col => {\n                        if (_.isEmpty(config.showFields)) return true;\n                        return config.showFields.indexOf(col.value) !== -1;\n                    })\n                } catch (e) {\n                }\n            }\n            return {\n                children: _children,\n                columns,\n                text: Type.label || k,\n                type: k,\n                path: _path\n            }\n        });\n    }\n\n\n    function execServerFn(type, model, fnName, ...args) {\n        return $http.post(`/cms-types/${type}/${model._id}/${fnName}`, args);\n    }\n\n    function execServerFnForWrapper(name, fnName, ...args) {\n        return $http.post(`/cms-wrappers/${name}/${fnName}`, args);\n    }\n\n    function getTitle(type, ref) {\n        const Type = data.types[type];\n        const e = _.find(Type.list, {_id: ref})\n        return e[Type.info.title];\n    }\n\n    return window.cms = {\n        sendWs,\n        findByID,\n        findFnByID,\n        findByRef,\n        findFnByRef,\n        getType,\n        createElement,\n        updateElement,\n        removeElement,\n        findField,\n        data,\n        get types() {\n            return data.types;\n        },\n        editState,\n        loadElements,\n        countElements,\n        loadElementsPending,\n        updateContainerPage,\n        walkInContainers,\n        getContainer,\n        parseAndSaveData,\n        exportAll,\n        importAll,\n        changeEditMode,\n        uploadFile,\n        getAdminList,\n        listColumns,\n        QueryBuilder,\n        deleteElements,\n        execServerFn,\n        execServerFnForWrapper,\n        getTitle\n    }\n}\nrun.$inject = ['cms', '$http', '$websocket'];\nfunction run(cms, $http, $websocket) {\n    const data = cms.data;\n    try {\n\n        cms.parseAndSaveData(JsonFn.parse($('#cms-data').text(), true));\n        data.serverFn = data.setupServerFn(data.serverFn, $http.post);\n        delete data.setupServerFn;\n        window.Types = data.types;\n        window.Local = data.Local = {};\n\n    } catch (e) {\n    }\n\n    //menu\n    $('body').append(`<div cms-nav></div>`);\n\n    //panel\n    $('body').prepend(`<div cms-container-edit></div>`);\n\n    $('body').addClass('cms-admin-mode');\n\n    let new_uri = '';\n    const {wsAddress} = cms.data.online;\n    if (wsAddress) {\n        new_uri = wsAddress;\n    } else {\n        let loc = window.location;\n        /*if (loc.protocol === \"https:\") {\n         new_uri = \"wss:\";\n         } else {\n         new_uri = \"ws:\";\n         }*/\n        new_uri += \"ws://\" + loc.host;\n        //new_uri += loc.pathname;\n    }\n\n    var socket = io.connect(new_uri);\n\n    window.socket = cms.socket = socket;\n\n    socket.on('message', (event) => {\n        const _data = JsonFn.parse(event, true);\n        if (!_data.uuid) return;\n        cms.data.socketQueue[_data.uuid](_data)\n    });\n}\n\nexport default modelModule.name;\n\n\n\n/** WEBPACK FOOTER **\n ** ./common/cms/cms.js\n **/","module.exports = (__webpack_require__(2))(385);\n\n\n/*****************\n ** WEBPACK FOOTER\n ** delegated ./node_modules/ng-file-upload/index.js from dll-reference lib_lib\n ** module id = 102\n ** module chunks = 0\n **/","class TypeClass {\n    constructor(raw) {\n        _.assign(this, raw);\n    }\n\n    /**\n     * check if a field is ref\n     * return main-title's key if it is ref ,else return null\n     * @param fieldName\n     * @returns {obj}\n     */\n    checkAndGetRef(fieldName) {\n        const field = cms.findField(this.form, fieldName);\n        if (field && field.type === 'refSelect') {\n            const type = field.templateOptions.Type;\n            return Types[type].info.title;\n        }\n    }\n}\n\nexport default TypeClass;\n\n\n/** WEBPACK FOOTER **\n ** ./common/cms/Type.js\n **/","module.exports = (__webpack_require__(2))(233);\n\n\n/*****************\n ** WEBPACK FOOTER\n ** delegated ./node_modules/angular-websocket/dist/angular-websocket.js from dll-reference lib_lib\n ** module id = 104\n ** module chunks = 0\n **/","//     uuid.js\n//\n//     Copyright (c) 2010-2012 Robert Kieffer\n//     MIT License - http://opensource.org/licenses/mit-license.php\n\n// Unique ID creation requires a high quality random # generator.  We feature\n// detect to determine the best RNG source, normalizing to a function that\n// returns 128-bits of randomness, since that's what's usually required\nvar _rng = require('./rng');\n\n// Maps for number <-> hex string conversion\nvar _byteToHex = [];\nvar _hexToByte = {};\nfor (var i = 0; i < 256; i++) {\n  _byteToHex[i] = (i + 0x100).toString(16).substr(1);\n  _hexToByte[_byteToHex[i]] = i;\n}\n\n// **`parse()` - Parse a UUID into it's component bytes**\nfunction parse(s, buf, offset) {\n  var i = (buf && offset) || 0, ii = 0;\n\n  buf = buf || [];\n  s.toLowerCase().replace(/[0-9a-f]{2}/g, function(oct) {\n    if (ii < 16) { // Don't overflow!\n      buf[i + ii++] = _hexToByte[oct];\n    }\n  });\n\n  // Zero out remaining bytes if string was short\n  while (ii < 16) {\n    buf[i + ii++] = 0;\n  }\n\n  return buf;\n}\n\n// **`unparse()` - Convert UUID byte array (ala parse()) into a string**\nfunction unparse(buf, offset) {\n  var i = offset || 0, bth = _byteToHex;\n  return  bth[buf[i++]] + bth[buf[i++]] +\n          bth[buf[i++]] + bth[buf[i++]] + '-' +\n          bth[buf[i++]] + bth[buf[i++]] + '-' +\n          bth[buf[i++]] + bth[buf[i++]] + '-' +\n          bth[buf[i++]] + bth[buf[i++]] + '-' +\n          bth[buf[i++]] + bth[buf[i++]] +\n          bth[buf[i++]] + bth[buf[i++]] +\n          bth[buf[i++]] + bth[buf[i++]];\n}\n\n// **`v1()` - Generate time-based UUID**\n//\n// Inspired by https://github.com/LiosK/UUID.js\n// and http://docs.python.org/library/uuid.html\n\n// random #'s we need to init node and clockseq\nvar _seedBytes = _rng();\n\n// Per 4.5, create and 48-bit node id, (47 random bits + multicast bit = 1)\nvar _nodeId = [\n  _seedBytes[0] | 0x01,\n  _seedBytes[1], _seedBytes[2], _seedBytes[3], _seedBytes[4], _seedBytes[5]\n];\n\n// Per 4.2.2, randomize (14 bit) clockseq\nvar _clockseq = (_seedBytes[6] << 8 | _seedBytes[7]) & 0x3fff;\n\n// Previous uuid creation time\nvar _lastMSecs = 0, _lastNSecs = 0;\n\n// See https://github.com/broofa/node-uuid for API details\nfunction v1(options, buf, offset) {\n  var i = buf && offset || 0;\n  var b = buf || [];\n\n  options = options || {};\n\n  var clockseq = options.clockseq !== undefined ? options.clockseq : _clockseq;\n\n  // UUID timestamps are 100 nano-second units since the Gregorian epoch,\n  // (1582-10-15 00:00).  JSNumbers aren't precise enough for this, so\n  // time is handled internally as 'msecs' (integer milliseconds) and 'nsecs'\n  // (100-nanoseconds offset from msecs) since unix epoch, 1970-01-01 00:00.\n  var msecs = options.msecs !== undefined ? options.msecs : new Date().getTime();\n\n  // Per 4.2.1.2, use count of uuid's generated during the current clock\n  // cycle to simulate higher resolution clock\n  var nsecs = options.nsecs !== undefined ? options.nsecs : _lastNSecs + 1;\n\n  // Time since last uuid creation (in msecs)\n  var dt = (msecs - _lastMSecs) + (nsecs - _lastNSecs)/10000;\n\n  // Per 4.2.1.2, Bump clockseq on clock regression\n  if (dt < 0 && options.clockseq === undefined) {\n    clockseq = clockseq + 1 & 0x3fff;\n  }\n\n  // Reset nsecs if clock regresses (new clockseq) or we've moved onto a new\n  // time interval\n  if ((dt < 0 || msecs > _lastMSecs) && options.nsecs === undefined) {\n    nsecs = 0;\n  }\n\n  // Per 4.2.1.2 Throw error if too many uuids are requested\n  if (nsecs >= 10000) {\n    throw new Error('uuid.v1(): Can\\'t create more than 10M uuids/sec');\n  }\n\n  _lastMSecs = msecs;\n  _lastNSecs = nsecs;\n  _clockseq = clockseq;\n\n  // Per 4.1.4 - Convert from unix epoch to Gregorian epoch\n  msecs += 12219292800000;\n\n  // `time_low`\n  var tl = ((msecs & 0xfffffff) * 10000 + nsecs) % 0x100000000;\n  b[i++] = tl >>> 24 & 0xff;\n  b[i++] = tl >>> 16 & 0xff;\n  b[i++] = tl >>> 8 & 0xff;\n  b[i++] = tl & 0xff;\n\n  // `time_mid`\n  var tmh = (msecs / 0x100000000 * 10000) & 0xfffffff;\n  b[i++] = tmh >>> 8 & 0xff;\n  b[i++] = tmh & 0xff;\n\n  // `time_high_and_version`\n  b[i++] = tmh >>> 24 & 0xf | 0x10; // include version\n  b[i++] = tmh >>> 16 & 0xff;\n\n  // `clock_seq_hi_and_reserved` (Per 4.2.2 - include variant)\n  b[i++] = clockseq >>> 8 | 0x80;\n\n  // `clock_seq_low`\n  b[i++] = clockseq & 0xff;\n\n  // `node`\n  var node = options.node || _nodeId;\n  for (var n = 0; n < 6; n++) {\n    b[i + n] = node[n];\n  }\n\n  return buf ? buf : unparse(b);\n}\n\n// **`v4()` - Generate random UUID**\n\n// See https://github.com/broofa/node-uuid for API details\nfunction v4(options, buf, offset) {\n  // Deprecated - 'format' argument, as supported in v1.2\n  var i = buf && offset || 0;\n\n  if (typeof(options) == 'string') {\n    buf = options == 'binary' ? new Array(16) : null;\n    options = null;\n  }\n  options = options || {};\n\n  var rnds = options.random || (options.rng || _rng)();\n\n  // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n  rnds[6] = (rnds[6] & 0x0f) | 0x40;\n  rnds[8] = (rnds[8] & 0x3f) | 0x80;\n\n  // Copy bytes to buffer, if provided\n  if (buf) {\n    for (var ii = 0; ii < 16; ii++) {\n      buf[i + ii] = rnds[ii];\n    }\n  }\n\n  return buf || unparse(rnds);\n}\n\n// Export public API\nvar uuid = v4;\nuuid.v1 = v1;\nuuid.v4 = v4;\nuuid.parse = parse;\nuuid.unparse = unparse;\n\nmodule.exports = uuid;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../~/uuid/uuid.js\n ** module id = 105\n ** module chunks = 0\n **/","\nvar rng;\n\nif (global.crypto && crypto.getRandomValues) {\n  // WHATWG crypto-based RNG - http://wiki.whatwg.org/wiki/Crypto\n  // Moderately fast, high quality\n  var _rnds8 = new Uint8Array(16);\n  rng = function whatwgRNG() {\n    crypto.getRandomValues(_rnds8);\n    return _rnds8;\n  };\n}\n\nif (!rng) {\n  // Math.random()-based (RNG)\n  //\n  // If all else fails, use Math.random().  It's fast, but is of unspecified\n  // quality.\n  var  _rnds = new Array(16);\n  rng = function() {\n    for (var i = 0, r; i < 16; i++) {\n      if ((i & 0x03) === 0) r = Math.random() * 0x100000000;\n      _rnds[i] = r >>> ((i & 0x03) << 3) & 0xff;\n    }\n\n    return _rnds;\n  };\n}\n\nmodule.exports = rng;\n\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../~/uuid/rng-browser.js\n ** module id = 106\n ** module chunks = 0\n **/","module.exports = (__webpack_require__(2))(8);\n\n\n/*****************\n ** WEBPACK FOOTER\n ** delegated ./node_modules/jquery-ui/ui/widgets/draggable.js from dll-reference lib_lib\n ** module id = 107\n ** module chunks = 0\n **/","module.exports = (__webpack_require__(2))(17);\n\n\n/*****************\n ** WEBPACK FOOTER\n ** delegated ./node_modules/jquery-ui/ui/widgets/resizable.js from dll-reference lib_lib\n ** module id = 108\n ** module chunks = 0\n **/","module.exports = (__webpack_require__(2))(332);\n\n\n/*****************\n ** WEBPACK FOOTER\n ** delegated ./node_modules/traverse/index.js from dll-reference lib_lib\n ** module id = 109\n ** module chunks = 0\n **/","module.exports = (__webpack_require__(2))(338);\n\n\n/*****************\n ** WEBPACK FOOTER\n ** delegated ./node_modules/angular-translate/dist/angular-translate.js from dll-reference lib_lib\n ** module id = 110\n ** module chunks = 0\n **/","module.exports = (__webpack_require__(2))(62);\n\n\n/*****************\n ** WEBPACK FOOTER\n ** delegated ./node_modules/angular-ui-notification/index.js from dll-reference lib_lib\n ** module id = 111\n ** module chunks = 0\n **/","module.exports = (__webpack_require__(2))(64);\n\n\n/*****************\n ** WEBPACK FOOTER\n ** delegated ./node_modules/angular-ui-notification/dist/angular-ui-notification.min.css from dll-reference lib_lib\n ** module id = 112\n ** module chunks = 0\n **/","module.exports = (__webpack_require__(2))(340);\n\n\n/*****************\n ** WEBPACK FOOTER\n ** delegated ./node_modules/socket.io-client/lib/index.js from dll-reference lib_lib\n ** module id = 113\n ** module chunks = 0\n **/","import 'angular-drag-and-drop-lists';\n\nconst module = angular\n    .module('components.cmsTypes', ['dndLists'])\n    .directive('cmsTypes', directive);\n\nimport template from './tpl.html';\n\ndirective.$inject = ['cms', '$http'];\n\nfunction directive(cms, $http) {\n    controller.$inject = [];\n    function controller() {\n        const vm = this;\n        vm.types = _.map(cms.types,(v,k) => ({type:k}));\n\n        /*\n        dedicated;\n        $http.get('/cms-types').then(function (res) {\n            vm.types = res.data;\n        });\n        */\n        vm.selectType = function (type) {\n            cms.loadElements(type, () => {\n                vm.list = cms.types[type].list;\n                vm._type = type;\n            });\n        }\n        vm.convert = function (element) {\n            return {\n                type: vm._type,\n                ref: element._id,\n                containers: {}\n            }\n        }\n        vm.getTitle = function (element) {\n            return _.get(element, cms.data.types[vm._type].info.title)\n        }\n        vm.end = function () {\n            cms.updateContainerPage();\n            cms.editState.dragType = null;\n            $('body').removeClass('cms-drag');\n        }\n        vm.start = type => {\n            cms.editState.dragType = type;\n            $('body').addClass('cms-drag');\n        }\n    }\n\n    return {\n        replace: true,\n        restrict: 'A',\n        scope: {},\n        bindToController: {},\n        template,\n        controllerAs: 'vm',\n        controller\n    };\n}\n\nexport default module.name;\n\n\n\n/** WEBPACK FOOTER **\n ** ./components/cms-types/module.js\n **/","module.exports = (__webpack_require__(2))(229);\n\n\n/*****************\n ** WEBPACK FOOTER\n ** delegated ./node_modules/angular-drag-and-drop-lists/angular-drag-and-drop-lists.js from dll-reference lib_lib\n ** module id = 115\n ** module chunks = 0\n **/","module.exports = \"<ul role=\\\"menu\\\" class=\\\"dropdown-menu\\\" ng-init=\\\"vm._showType= true\\\">\\n    <li ng-repeat=\\\"type in vm.types\\\"\\n        dnd-draggable=\\\"type\\\"\\n        dnd-type=\\\"type.type\\\"\\n        dnd-dragstart=\\\"vm.start(type.type)\\\"\\n        dnd-effect-allowed=\\\"move\\\"\\n        dnd-dragend=\\\"vm.end()\\\"\\n        ng-show=\\\"vm._showType\\\">\\n        <a ng-click=\\\"vm._showType = !vm._showType;\\n                    vm.selectType(type.type);\\n                    $event.stopPropagation();\\\">\\n            {{type.type}}\\n        </a>\\n    </li>\\n    <li ng-show=\\\"!vm._showType\\\"\\n        style=\\\"padding-left: 5px;padding-right: 20px;\\\">\\n        <div class=\\\"col-xs-10\\\">\\n            <input type=\\\"text\\\" class=\\\"input-xs\\\" ng-model=\\\"vm._filter\\\">\\n        </div>\\n        <div class=\\\"col-xs-2\\\">\\n            <button type=\\\"button\\\" class=\\\"btn btn-xs btn-white\\\"\\n                    ng-click=\\\"vm._showType = !vm._showType;$event.stopPropagation();\\\">\\n                <i class=\\\"fa fa-times\\\"></i>\\n            </button>\\n        </div>\\n    </li>\\n    <li ng-repeat=\\\"element in vm.list\\\"\\n        ng-init=\\\"_element = vm.convert(element)\\\"\\n        dnd-draggable=\\\"_element\\\"\\n        dnd-type=\\\"vm._type\\\"\\n        dnd-effect-allowed=\\\"move\\\"\\n        dnd-dragstart=\\\"vm.start(vm._type)\\\"\\n        dnd-dragend=\\\"vm.end()\\\"\\n        ng-show=\\\"!vm._showType\\\">\\n        <a ng-click=\\\"\\\">{{vm.getTitle(element)}}</a>\\n    </li>\\n</ul>\\n\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./components/cms-types/tpl.html\n ** module id = 116\n ** module chunks = 0\n **/","import common from \"../../common/common.module\";\nimport \"angular-drag-and-drop-lists\";\nimport cmsEditable from \"../cms-editable/module\";\nimport cmsElementEdit from \"../cms-element-edit/module\";\nimport \"angular-ui-bootstrap\";\nimport elementDirective from \"./element.directive\";\nimport editorDirective from \"./editor.directive\";\nimport cmsWrapper from \"./cms-wrapper.directive\";\nimport \"angular-bootstrap-contextmenu\";\nimport fragmentDirective from \"./fragment.directive\";\nimport containerDirective from \"./container.directive\";\nimport containerEditDirective from \"./container-edit.directive\";\nimport cmsFormPathDirective from \"./cms-form-path.directive\";\nimport 'angular-file-saver';\n\nconst module = angular\n    .module('components.cmsMain', ['dndLists', 'ui.bootstrap', common, cmsEditable, cmsElementEdit, 'ui.bootstrap.contextMenu', 'ngFileSaver'])\n    .directive('cmsContainer', containerDirective)\n    .directive('cmsElement', elementDirective)\n    .directive('cmsEditor', editorDirective)\n    .directive('cmsWrapper', cmsWrapper)\n    .directive('cmsFragment', fragmentDirective)\n    .directive('cmsFormPath', cmsFormPathDirective)\n    .directive('cmsContainerEdit', containerEditDirective);\n\nexport default module.name;\n\n\n/** WEBPACK FOOTER **\n ** ./components/cms-main/module.js\n **/","import formly from '../formly/module';\n\nconst module = angular\n    .module('components.cmsElementEdit', [formly])\n    .directive('cmsElementEdit', directive)\n    .factory('formService', service);\n\nimport template from './tpl.html';\n\ndirective.$inject = [];\n\nfunction directive() {\n    controller.$inject = [];\n    function controller() {\n        const vm = this;\n        vm.isTab = vm.cmsFields[0].isTab ? true : false;\n        vm.fullScreenText = 'Fullscreen';\n        vm.changeScreenSize = function () {\n            if ($('.cms-window-placeholder').hasClass('cms-window')) {\n                $('.cms-window-placeholder').removeClass('cms-window');\n                vm.fullScreenText = 'Fullscreen';\n            } else {\n                $('.cms-window-placeholder').addClass('cms-window');\n                vm.fullScreenText = 'Minimize';\n            }\n        }\n        vm.options = {formState: {path: ''}};\n    }\n\n    return {\n        replace: true,\n        restrict: 'A',\n        scope: {},\n        bindToController: {\n            cmsType: '=',\n            cmsModel: '=',\n            cmsFields: '=',\n            onCancel: '&',\n            onSubmit: '&',\n            onAdd: '&',\n            onApply: '&',\n            onDelete: '&'\n        },\n        template,\n        controllerAs: 'vm',\n        controller\n    };\n}\n\nservice.$inject = ['$http', '$timeout', 'cms', '$uibModal'];\nfunction service($http, $timeout, cms, $uibModal) {\n    function manipulate(ref, type, _model, cb) {\n\n        const Type = Types[type];\n\n        function modalCtrl($scope, $uibModalInstance) {\n            $scope.$on('saveContainers', (e, obj) => scope.$emit('saveContainersFw', obj));\n            $scope.$on('restoreContainers', (e, obj) => scope.$emit('restoreContainersFw', obj));\n\n            $scope.model = {};\n\n            if (ref) {\n                cms.getType(type, ref, (model) => {\n                    _.assign($scope.model, model);\n                })\n            } else if (_model) {\n                cms.createElement(type, _model, model => {\n                    _.assign($scope.model, model);\n                })\n            }\n\n            $scope.fields = Type.form;\n\n            if (Type.tabs) {\n                $scope.fields = _.map(Type.tabs, (tab, i) => {\n                    const _tab = {title: tab.title, fields: []};\n                    if (i === 0) {\n                        _tab.active = true;\n                        _tab.isTab = true;\n                    }\n                    _.merge(tab, {fields: []});\n                    for (const field of Type.form) {\n                        const inFirstTab = () => {\n                            let result = true;\n                            Type.tabs.forEach((tab, i) => {\n                                if (i !== 0) {\n                                    if (tab.fields.indexOf(field.key) !== -1 || field.tab === tab.title) result = false;\n                                }\n                            })\n                            return result;\n                        }\n                        if (field.tab === tab.title || tab.fields.indexOf(field.key) !== -1 || (i === 0 && inFirstTab())) {\n                            _tab.fields.push(field);\n                        }\n                    }\n                    return _tab;\n                })\n            }\n\n            $scope.type = type;\n\n            $scope.submit = function () {\n                cms.updateElement($scope.type, $scope.model, (_model) => {\n                    $uibModalInstance.close(_model);\n                    console.log('update element successful');\n                }, () => $uibModalInstance.dismiss('cancel'));\n            };\n\n            $scope.apply = function () {\n                cms.updateElement($scope.type, $scope.model);\n            };\n\n            $scope.cancel = function () {\n                $uibModalInstance.dismiss('cancel');\n            };\n\n            $scope.delete = function () {\n                cms.removeElement($scope.type, $scope.model._id, () => {\n                    $uibModalInstance.close();\n                })\n            };\n\n            $scope.add = function () {\n                $scope.apply()\n                cms.createElement(type, {}, model => {\n                    $uibModalInstance.close();\n                    edit(model._id, type, cb);\n                })\n            };\n\n\n        }\n\n\n        let mouseEnter = false;\n\n        $('body').on('scroll mousewheel touchmove', function (e) {\n            if (!mouseEnter) {\n                e.preventDefault();\n                e.stopPropagation();\n                return false;\n            }\n        });\n\n        const modalInstance = $uibModal.open({\n            animation: false,\n            size: 'lg',\n            template: `\n                <div cms-element-edit\n                     cms-type=\"type\"\n                     cms-model=\"model\"\n                     cms-fields=\"fields\"\n                     on-cancel=\"cancel()\"\n                     on-submit=\"submit()\"\n                     on-add=\"add()\"\n                     on-apply=\"apply()\"\n                     on-delete=\"delete()\">\n                </div>\n                `,\n            controller: modalCtrl,\n            windowClass: 'cms-window-placeholder'\n        });\n\n        $timeout(() => {\n            $('.cms-window-placeholder').find('.modal-content').mouseover(() => {\n                mouseEnter = true;\n            }).mouseout(() => {\n                mouseEnter = false;\n            });\n        }, 100);\n\n        modalInstance.result.then((model) => {\n            if (cb) $timeout(cb(model));\n        })['finally'](function () {\n            $timeout(()=> {\n                $('body').off('scroll mousewheel touchmove');\n                $('.cms-window-placeholder').find('.modal-content').off();\n            });\n        });\n\n\n    }\n\n    function edit(ref, type, cb) {\n        manipulate(ref, type, null, cb);\n    }\n\n    function add(model, type, cb) {\n        manipulate(null, type, model, cb);\n    }\n\n    return {\n        edit,\n        add\n    }\n}\n\nexport default module.name;\n\n\n\n/** WEBPACK FOOTER **\n ** ./components/cms-element-edit/module.js\n **/","module.exports = \"<div class=\\\"cms-wrapper cms\\\"\\n     ng-init=\\\"_showId = false;\\\">\\n\\n    <div style=\\\"position: absolute;right: 10px;\\\">\\n        <button class=\\\"btn btn-xs btn-white\\\"\\n                ng-click=\\\"_showId=!_showId;\\\"\\n                ng-bind=\\\"_showId?'hide id':'show id'\\\">\\n        </button>\\n        <button type=\\\"button\\\" class=\\\"btn btn-xs btn-white\\\" ng-bind=\\\"vm.fullScreenText\\\"\\n                ng-click=\\\"vm.changeScreenSize();\\\"></button>\\n    </div>\\n\\n    <h3 style=\\\"font-weight: 300;\\\">Edit {{vm.cmsType}} {{_showId?'('+vm.cmsModel._id+')':''}}:</h3>\\n\\n    <form ng-submit=\\\"vm.onSubmit()\\\"\\n          novalidate\\n          class=\\\"cms-form form-horizontal\\\">\\n\\n        <uib-tabset ng-if=\\\"vm.isTab\\\">\\n            <uib-tab ng-repeat=\\\"tab in vm.cmsFields\\\"\\n                     heading=\\\"{{tab.title}}\\\"\\n                     active=\\\"tab.active\\\">\\n                <br>\\n                <formly-form model=\\\"vm.cmsModel\\\" fields=\\\"tab.fields\\\"\\n                             form=\\\"vm.form\\\" options=\\\"vm.options\\\">\\n                </formly-form>\\n            </uib-tab>\\n        </uib-tabset>\\n\\n        <div>\\n            <br>\\n            <formly-form model=\\\"vm.cmsModel\\\" fields=\\\"vm.cmsFields\\\"\\n                         form=\\\"vm.form\\\" options=\\\"vm.options\\\" ng-if=\\\"!vm.isTab\\\">\\n            </formly-form>\\n        </div>\\n\\n        <div class=\\\"form-group\\\" style=\\\"margin-top: 25px;\\\">\\n            <div class=\\\"col-sm-offset-2 col-sm-10\\\">\\n                <button type=\\\"submit\\\" class=\\\"btn btn-primary submit-button\\\" ng-disabled=\\\"vm.form.$invalid\\\">{{'Submit' | translate}}</button>\\n                <button type=\\\"button\\\" class=\\\"btn btn-primary\\\" ng-click=\\\"vm.onApply()\\\">{{'Apply' | translate}}</button>\\n                <button type=\\\"button\\\" class=\\\"btn btn-primary\\\" ng-click=\\\"vm.onAdd()\\\">{{'Save and add' | translate}}</button>\\n                <button type=\\\"button\\\" class=\\\"btn btn-primary\\\" ng-click=\\\"vm.onCancel()\\\">{{'Cancel' | translate}}</button>\\n\\n                <button type=\\\"button\\\" class=\\\"cms-btn btn-outline btn btn-danger pull-right\\\" ng-click=\\\"vm.onDelete()\\\">Delete</button>\\n\\n            </div>\\n        </div>\\n    </form>\\n</div>\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./components/cms-element-edit/tpl.html\n ** module id = 119\n ** module chunks = 0\n **/","elementDirective.$inject = ['cms', '$compile', '$http', '$timeout', '$controller'];\nfunction elementDirective(cms, $compile, $http, $timeout, $controller) {\n\n    function link(scope, element, attr, controller) {\n        const {vm} = scope;\n        let {ref, type, containers, binding} = vm.element;\n        scope.$on('saveContainersFw', (e, obj) => {\n            if (obj.type === type) obj.cb(vm.element.containers)\n        });\n        scope.$on('restoreContainersFw', (e, obj) => {\n            if (obj.type === type) {\n                vm.element.containers.length = 0;\n                vm.element.containers.push(...obj.containers);\n                render();\n                cms.updateContainerPage();\n            }\n        });\n\n        let Type;\n\n        cms.getType(type, ref, model => {\n            if (!model) {\n                vm.dndMoved();\n                cms.updateContainerPage();\n                return;\n            }\n            vm.element.ref = model._id;\n            vm.element.containers = vm.element.containers || {};\n            if (!ref) cms.updateContainerPage();\n            Type = Types[type];\n            render();\n        })\n\n        function processBinding(binding, e, template) {\n            if (binding.binds) {\n                scope.parentModel = binding.parentModel;\n                for (const bind of binding.binds) {\n                    if (bind.choice === 'model') {\n                        const {parentKey, key} = bind.model;\n                        scope.$watch(`parentModel.${parentKey}`, () => scope.model[key] = scope.parentModel[parentKey], true);\n                    } else if (bind.choice === 'fn') {\n                        const {parentKey, key} = bind.fn;\n                        scope.model[key] = Types[binding.BindType].fn[parentFn].bind(model);\n                    } else if (bind.choice === 'scope') {\n                        const {key} = bind.scope;\n                        scope.model[key] = e[key].bind(scope.parentModel);\n                    } else if (bind.choice === 'array') {\n                        const {parentKey} = bind.array;\n                        scope.prepareElement = function (item) {\n                            const containers = JsonFn.clone(vm.element.containers);\n                            Types.Layout.fn.getTreeWithBinding(containers, bind.array.bind, item, binding.BindType);\n                            return {type: vm.element.type, ref: vm.element.ref, containers, binding: {}};\n                        }\n                        template = `\n                                <div ng-repeat=\"item in parentModel.${parentKey} track by $index\"\n                                     ng-init=\"e = prepareElement(item)\">\n                                     <div cms-element=\"e\"></div>\n                                </div>`;\n                    }\n                }\n            }\n            return template;\n        }\n\n        function render() {\n\n            if (vm.inline) {\n                scope.cmsInline = vm.inline === 'true';\n                reRender();\n            } else {\n                try {\n                    scope.cmsInline = scope.$parent.vm.cmsInline === 'true';\n\n                    scope.$parent.$watch('vm.cmsInline', () => {\n                        scope.cmsInline = scope.$parent.vm.cmsInline === 'true';\n                        reRender();\n                    });\n                } catch (e) {\n                }\n            }\n\n            $timeout(() => scope.$watch('vm.element.ref', (newValue, oldValue) => {\n                if (newValue !== oldValue) reRender();\n            }), 2000);\n\n            function reRender() {\n                ref = vm.element.ref;\n                const e = _.find(Type.list, {_id: ref});\n                if (binding) {\n                    let template = Type.template;\n                    scope.model = angular.copy(e);\n                    template = processBinding(binding, e, template);\n                    element.html(template);\n                } else {\n                    scope.model = e;\n                    element.html(`\n                    <div cms-refresh=\"vm.refresh()\"\n                         cms-editor=\"vm.element\"\n                         cms-remove=\"vm.dndMoved()\"\n                         cms-menu=\"{{cmsInline?'true':'false'}}\"\n                         ng-class=\"{'cms-edit-shadow':cmsInline}\">\n                         ${Type.template}\n                    </div>\n                    `);\n                }\n\n                _render();\n            }\n\n            function _render() {\n                let {serverFn, controller: ctrl, link} = Type;\n                let fn = JsonFn.clone(Type.fn);\n                if (fn) {\n                    const _fn = {};\n                    _.each(fn, (v, k) => {\n                        _fn[k] = v.bind(scope.model);\n                    });\n                    scope.fn = _fn;\n                }\n\n                scope.serverFn = {};\n                _.each(serverFn, (fn, k) => {\n                    fn.bind(scope.model)($http.post, scope, type, k);\n                })\n                if (ctrl) $controller(ctrl, {$scope: scope});\n                if (link) link(scope, element, attr);\n\n                controller.refresh = function () {\n                    if (scope.serverFnData) scope.serverFnData = null;\n                    render();\n                }\n\n                controller.getPath = () => `${vm.path}.containers`;\n                controller.getElement = () => vm.element;\n\n                $compile(element.contents())(scope);\n            }\n        }\n    }\n\n\n    return {\n        restrict: 'A',\n        replace: true,\n        scope: {},\n        bindToController: {\n            path: '@cmsPath',\n            element: '=cmsElement',\n            inline: '@inline',\n            dndMoved: '&'\n        },\n        controllerAs: 'vm',\n        controller: function () {\n        },\n        link\n    };\n}\n\nexport default elementDirective;\n\n\n\n\n\n/** WEBPACK FOOTER **\n ** ./components/cms-main/element.directive.js\n **/","import template from './editor.html';\n\ndirective.$inject = ['cms', '$http', '$timeout', 'formService'];\nfunction directive(cms, $http, $timeout, formService) {\n    controller.$inject = ['$scope'];\n\n    function controller(scope) {\n        const vm = this;\n        const {ref, type} = vm.cmsEditor;\n        const Type = cms.data.types[type];\n\n        vm.editState = cms.editState;\n        vm.showControl = function () {\n            vm._showControl = true;\n            $timeout(function () {\n                vm._showControl = false;\n            }, 1000)\n        }\n\n        vm.getControlVisible = function () {\n            return !vm._showControl &&\n                (vm.editState.editMode === Enum.EditMode.ALL ||\n                (vm.editState.editMode === Enum.EditMode.VIEWELEMENT && Type.info.isViewElement) ||\n                (vm.editState.editMode === Enum.EditMode.DATAELEMENT && !Type.info.isViewElement))\n        }\n\n        vm.edit = function (cb) {\n            const {ref, type} = vm.cmsEditor;\n            formService.edit(ref, type, cb);\n        }\n\n        vm.copy = function (cb) {\n            const {ref, type} = vm.cmsEditor;\n            const e = cms.findByRef(type, ref);\n\n            cms.createElement(type, _.pickBy(e, (v, k)=> k !== '_id', true), model => {\n                formService.edit(model._id, type, cb);\n            })\n        }\n\n        vm.remove = function () {\n            vm.cmsRemove();\n            cms.updateContainerPage();\n        }\n        vm.removeByDatabase = function () {\n            vm.remove();\n            $http.delete(`api/v1/${vm.cmsEditor.type}/${vm.cmsEditor.ref}`).then(() => {\n                _.remove(Types[vm.cmsEditor.type].list, {_id: vm.cmsEditor.ref})\n                vm.refresh();\n            });\n        }\n\n        vm.refresh = function () {\n            scope.$emit('refresh', {type: 'Wrapper', finish: false});\n        }\n\n    }\n\n    function link(scope, element, attr, elementController) {\n        scope.menu = [];\n        const {vm} = scope;\n        const {ref, type} = vm.cmsEditor;\n        if (vm.cmsMenu === 'true') {\n            scope.menu = [\n                ['Edit', () => vm.edit(refresh)],\n                ['Remove', function () {\n                    vm.remove();\n                }],\n                ['Remove (in database)', function () {\n                    vm.remove();\n                    $http.delete(`api/v1/${vm.cmsEditor.type}/${vm.cmsEditor.ref}`).then(() => {\n                        elementController.refresh();\n                    });\n                }],\n                ['Add new', function () {\n                    $http.get(`/cms-types/${vm.cmsEditor.type}`).then(res => {\n                        const Type = cms.data.types[vm.cmsEditor.type];\n                        Type.list.unshift(res.data.data);\n                        elementController.refresh();\n                    })\n                }]\n            ];\n        }\n        var Type = cms.data.types[type];\n        vm.editorIcon = Type.info.editorIcon;\n    }\n\n    return {\n        restrict: 'A',\n        require: '^^?cmsElement',\n        scope: {},\n        bindToController: {\n            cmsEditor: '=',\n            cmsRemove: '&',\n            cmsRefresh: '&',\n            cmsMenu: '@',\n            cmsTemplate: '='\n        },\n        controller,\n        link,\n        controllerAs: 'vm',\n        transclude: true,\n        template\n    };\n}\n\nexport default directive;\n\n\n/** WEBPACK FOOTER **\n ** ./components/cms-main/editor.directive.js\n **/","module.exports = \"<div context-menu=\\\"menu\\\"\\n     ng-style=\\\"{display:vm.cmsMenu === 'true'?'inline-block':'block'}\\\">\\n    <div ng-if=\\\"vm.cmsMenu !== 'true'\\\" class=\\\"cms cms-element-wrapper\\\" ng-style=\\\"vm.editorIcon\\\">\\n        <div class=\\\"cms-element-controll-icon label label-primary\\\" style=\\\"font-size: 13px\\\"\\n             ng-mouseover=\\\"vm.showControl()\\\" ng-show=\\\"vm.getControlVisible()\\\">\\n            <i class=\\\"fa fa-circle-o-notch\\\"></i>\\n        </div>\\n\\n        <div class=\\\"cms-element-controll\\\"\\n             ng-mouseover=\\\"vm.__showControl = true\\\"\\n             ng-mouseleave=\\\"vm.__showControl = false\\\"\\n             ng-show=\\\"vm._showControl || vm.__showControl\\\">\\n            <button type=\\\"button\\\" class=\\\"btn btn-sm btn-white pull-right\\\" ng-click=\\\"vm.edit()\\\">\\n                <i class=\\\"fa fa-pencil-square-o\\\"></i>\\n            </button>\\n            <button type=\\\"button\\\" class=\\\"btn btn-sm btn-white pull-right\\\" ng-click=\\\"vm.removeByDatabase()\\\">\\n                <i class=\\\"fa fa-trash\\\"></i>\\n            </button>\\n            <button type=\\\"button\\\" class=\\\"btn btn-sm btn-white pull-right\\\" ng-click=\\\"vm.remove()\\\">\\n                <i class=\\\"fa fa-trash-o\\\"></i>\\n            </button>\\n            <button type=\\\"button\\\" class=\\\"btn btn-sm btn-white pull-right\\\" ng-click=\\\"vm.copy()\\\">\\n                <i class=\\\"fa fa-files-o\\\"></i>\\n            </button>\\n            <button type=\\\"button\\\" class=\\\"btn btn-sm btn-white pull-right\\\" ng-click=\\\"vm.cmsRefresh()\\\">\\n                <i class=\\\"fa fa-refresh\\\"></i>\\n            </button>\\n        </div>\\n\\n    </div>\\n    <ng-transclude></ng-transclude>\\n</div>\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./components/cms-main/editor.html\n ** module id = 122\n ** module chunks = 0\n **/","directive.$inject = ['cms', '$compile', '$http', '$timeout', '$controller'];\nfunction directive(cms, $compile, $http, $timeout, $controller) {\n\n    function link(scope, element) {\n        const {vm} = scope;\n        const Type = cms.data.types['Wrapper'];\n        if (!Type.store) Type.store = {};\n        render();\n\n        /*if (!Type.store[vm.cmsWrapper]) {\n         $http.get(`/cms-wrappers/${vm.cmsWrapper}`, _transform).then(res => {\n         Type.store[vm.cmsWrapper] = res.data;\n         render();\n         }, () => {\n         render();\n         })\n         } else {\n         render();\n         }*/\n\n        function render() {\n            if (Type.store[vm.cmsWrapper]) {\n                const {template, serverFn, fn, serverFnData, controller} = Type.store[vm.cmsWrapper];\n\n                _.assign(scope, {fn: {}, model: vm.element, serverFn: {}, serverFnData});\n\n                _.each(fn, (v, k) => scope.fn[k] = v.bind(scope.model));\n                _.each(serverFn, (fn, k) =>fn($http.post, scope, vm.cmsWrapper, k))\n\n                if (controller) $controller(controller, {$scope: scope});\n\n                element.html(template);\n            } else {\n                const {list, element:_element, Fn:_fn} = vm.element;\n                let template;\n                if (!list.null) {\n                    const {BindType, layout, query} = list;\n                    // resolve data before render\n                    if (!Types[BindType]._load) {\n                        cms.loadElements(BindType, () => render());\n                        return;\n                    }\n                    try {\n                        scope.result = query.bind(vm.element)();\n                    } catch (e) {\n                    }\n                    if (!scope.result) scope.result = cms.data.types[BindType].list;\n                    scope.type = BindType;\n                    if (layout) {\n                        scope.layout = layout;\n                        template = `\n                        <div ng-repeat=\"element in result track by $index\">\n                            <div cms-fragment=\"{{layout.ID}}\" model=\"element\"></div>\n                        </div>\n                        `\n                    } else {\n                        scope.e = {type: BindType}\n                        template = `\n                        <br>\n                        <div ng-repeat=\"element in result track by $index\">\n                            <div cms-element=\"{type:type,ref:element._id}\"></div>\n                        </div>\n                        `\n                    }\n                } else if (!_element.null) {\n                    const {BindType, layout, model, query} = _element;\n                    _.assign(scope, {model, layout, type: BindType});\n                    template = `<br><div cms-element=\"{type:type,ref:vm.element.element.model._id}\"></div>`\n                }\n                if (_fn) {\n                    vm.element.fn = _.mapValues(_fn(), f => f.bind(vm.element));\n                }\n                element.html(template);\n            }\n\n            $compile(element.contents())(scope);\n        }\n    }\n\n    return {\n        replace: true,\n        restrict: 'A',\n        scope: {},\n        bindToController: {\n            cmsWrapper: '@',\n            element: '='\n        },\n        controller: function () {\n        },\n        link,\n        controllerAs: 'vm'\n    };\n}\n\nexport default directive;\n\n\n/** WEBPACK FOOTER **\n ** ./components/cms-main/cms-wrapper.directive.js\n **/","module.exports = (__webpack_require__(2))(230);\n\n\n/*****************\n ** WEBPACK FOOTER\n ** delegated ./node_modules/angular-bootstrap-contextmenu/contextMenu.js from dll-reference lib_lib\n ** module id = 124\n ** module chunks = 0\n **/","directive.$inject = ['cms', '$compile', '$timeout'];\nexport function directive(cms, $compile, $timeout) {\n\n    function link(scope, element) {\n        const {vm} = scope;\n        const Layout = cms.data.types['Layout'];\n        const layout = _.find(Layout.list, layout => layout.ID === vm.fragment);\n        let {containers, bind, BindType} = vm.save ? _.find(layout.SAVE, save => save.name === vm.save) : layout.SAVE[0];\n        containers = angular.copy(containers);\n        Layout.fn.getTreeWithBinding(containers, bind, vm.model, BindType);\n        vm.element = {ref: layout._id, type: 'Layout', containers, binding: {}};\n        element.html('<div cms-element=\"vm.element\"></div>');\n        $compile(element.contents())(scope);\n    }\n\n    return {\n        restrict: 'A',\n        replace: false,\n        scope: {},\n        bindToController: {\n            fragment: '@cmsFragment',\n            save: '@',\n            model: '='\n        },\n        controller: function () {\n        },\n        controllerAs: 'vm',\n        link\n    };\n}\nexport default directive;\n\n\n\n\n/** WEBPACK FOOTER **\n ** ./components/cms-main/fragment.directive.js\n **/","import template from './container.html';\ndirective.$inject = ['cms', '$timeout'];\nfunction directive(cms, $timeout) {\n    function link(scope, element, attr, elementController) {\n        const vm = scope.vm;\n        const elementPath = elementController ? elementController.getPath() : null;\n        vm.path = `${elementPath ? elementPath + '.' : ''}${vm.name}`;\n        const container = cms.getContainer(vm.path);\n\n        vm.showControl = function () {\n            vm._showControl = true;\n            $timeout(function () {\n                vm._showControl = false;\n            }, 1000)\n        }\n        vm.editState = cms.editState;\n        vm.elements = container.elements;\n        vm.start = type => {\n            cms.editState.dragType = type;\n        }\n        vm.end = function () {\n            cms.editState.dragType = null;\n            cms.updateContainerPage();\n        }\n        vm.allowedTypes = vm.cmsContainerTypes ? vm.cmsContainerTypes.split(',') : [];\n        vm.highlight = ()=> vm.allowedTypes.indexOf(vm.editState.dragType) !== -1 && !(vm.elements.length > 0 && vm.elements[0].binding);\n\n        vm.editState = cms.editState;\n        vm.matchEditMode = function (type) {\n            return  (vm.editState.editMode === Enum.EditMode.ALL ||\n            (vm.editState.editMode === Enum.EditMode.VIEWELEMENT && cms.data.types[type].info.isViewElement) ||\n            (vm.editState.editMode === Enum.EditMode.DATAELEMENT && !cms.data.types[type].info.isViewElement))\n        }\n    }\n\n    return {\n        require: '^^?cmsElement',\n        replace: false,\n        restrict: 'A',\n        scope: {},\n        bindToController: {\n            name: '@cmsContainer',\n            cmsContainerTypes: '@',\n            cmsInline: '@'\n        },\n        template,\n        controller: function () {\n        },\n        controllerAs: 'vm',\n        link\n    };\n}\n\n\nexport default directive;\n\n\n/** WEBPACK FOOTER **\n ** ./components/cms-main/container.directive.js\n **/","module.exports = \"<i class=\\\"fa fa-circle-o-notch cms-element-controll-icon\\\"\\n   ng-mouseover=\\\"vm.showControl()\\\"\\n   ng-show=\\\"!vm._showControl && (vm.editState.editMode === 1)\\\"></i>\\n<div class=\\\"cms-element-controll\\\"\\n     ng-mouseover=\\\"vm.__showControl = true\\\"\\n     ng-mouseleave=\\\"vm.__showControl = false\\\"\\n     ng-show=\\\"vm._showControl || vm.__showControl\\\">\\n    <button type=\\\"button\\\" class=\\\"btn btn-sm btn-white pull-right\\\" ng-click=\\\"\\\">\\n        <i class=\\\"fa fa-plus\\\"></i>\\n    </button>\\n</div>\\n<div class=\\\"{{vm.cmsInline === 'true'?'cms-containers-inline':'cms-containers'}}\\\"\\n     dnd-list=\\\"vm.elements\\\"\\n     dnd-disable-if=\\\"vm.elements.length > 0 && vm.elements[0].binding\\\"\\n     dnd-allowed-types=\\\"vm.allowedTypes\\\"\\n     dnd-horizontal-list=\\\"{{vm.cmsInline}}\\\"\\n     ng-class=\\\"{'cms-panel-highlight':vm.highlight()}\\\">\\n    <div ng-repeat=\\\"element in vm.elements\\\"\\n         dnd-disable-if=\\\"element.binding || !vm.matchEditMode(element.type)\\\"\\n         dnd-draggable=\\\"element\\\"\\n         dnd-type=\\\"element.type\\\"\\n         dnd-moved=\\\"vm.elements.splice($index, 1);\\\"\\n         dnd-effect-allowed=\\\"move\\\"\\n         dnd-dragstart=\\\"vm.start(element.type)\\\"\\n         dnd-dragend=\\\"vm.end();\\\"\\n         cms-element=\\\"element\\\"\\n         cms-path=\\\"{{vm.path}}.elements[{{$index}}]\\\"\\n         class=\\\"{{vm.cmsInline === 'true'?'cms-element':''}}\\\"\\n    ></div>\\n</div>\\n\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./components/cms-main/container.html\n ** module id = 127\n ** module chunks = 0\n **/","import template from './container-edit.html';\n\nimport traverse from  'traverse';\n\ndirective.$inject = ['cms', '$timeout'];\nfunction directive(cms, $timeout) {\n    function link(scope, element, attr) {\n        $(element).find('.cms-container-panel').draggable({\n            cancel: \".panel-body\",\n            handle: \".panel-heading\",\n        });\n        scope.vm.editState = cms.editState;\n        const {vm} = scope;\n\n        const test = {\n            main: {\n                elements: [\n                    {\n                        \"type\": \"Article\",\n                        \"ref\": \"579109d67babc20c5a7f8673\",\n                        \"containers\": {\n                            tab: {\n                                elements: [\n                                    {\n                                        \"type\": \"Article\",\n                                        \"ref\": \"579109d67babc20c5a7f8673\"\n                                    }\n                                ]\n                            }\n                        }\n                    }\n                ]\n            }\n        }\n\n        vm.treeConfig = {\n            core: {\n                themes: {name: 'proton', responsive: true},\n                animation: true,\n                check_callback: true\n            },\n            plugins: [\"dnd\", \"types\"],\n            version: 1\n        }\n\n        vm.tree = traverse(cms.data.containers).map(function (node) {\n            if (!node) return;\n            if (!this.key || (this.key === 'children' && this.parent.parent.node[0].type === 'element')) {\n                const _node = _.map(node, (v, k) => ({text: k, type: 'container', children: v.elements}));\n                this.update(_node);\n            } else if (this.parent && this.parent.key === 'children' && node.ref) {\n                const _node = {\n                    content: _.pick(node, ['type', 'ref']),\n                    text: `${node.type} - ${cms.getTitle(node.type, node.ref)}`,\n                    type: 'element',\n                    children: node.containers\n                };\n                this.update(_node);\n            }\n        });\n\n        $timeout(() => vm.treeConfig.version++);\n    }\n\n    return {\n        replace: false,\n        restrict: 'A',\n        scope: {},\n        bindToController: {},\n        template,\n        controller: function () {\n        },\n        controllerAs: 'vm',\n        link\n    };\n}\n\n\nexport default directive;\n\n\n/** WEBPACK FOOTER **\n ** ./components/cms-main/container-edit.directive.js\n **/","module.exports = \"<div class=\\\"cms-container-panel panel panel-default ui-widget-content\\\"\\n     ng-show=\\\"vm.editState.showContainerEdit\\\"\\n     style=\\\"position: fixed; top: 70px; right: 50px;width: 300px;height: 600px;z-index:1000\\\">\\n    <div class=\\\"panel-heading\\\" style=\\\"padding: 0px 0px 0px 10px;height: 26px;cursor: move\\\">\\n        <div class=\\\"panel-title\\\">\\n            <h5>Edit panel</h5>\\n        </div>\\n    </div>\\n    <div class=\\\"panel-body\\\">\\n        <div js-tree=\\\"vm.treeConfig\\\" ng-model=\\\"vm.tree\\\"\\n             tree-events=\\\"changed:vm.selectNode\\\" tree=\\\"vm.treeInstance\\\"></div>\\n    </div>\\n</div>\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./components/cms-main/container-edit.html\n ** module id = 129\n ** module chunks = 0\n **/","const _merge = require('extend');\nfunction merge() {\n    return _merge(true, ...arguments);\n}\n\ndirective.$inject = ['cms'];\nfunction directive(cms) {\n\n    return {\n        // replace: true,\n        restrict: 'A',\n        scope: {},\n        bindToController: {\n            model: '=',\n            type: '@',\n            path: '@cmsFormPath',\n            extend: '=',\n            class: '@?cmsClass'\n        },\n        template: `\n        <formly-form model=\"vm.model\" fields=\"vm.fields\" form=\"vm.form\" options=\"vm.options\"></formly-form>\n        `,\n        controller: function () {\n            const vm = this;\n\n            const Path = _.find(cms.types[vm.type].paths, {path: vm.path});\n\n            if (Path) {\n                var field = angular.copy(_.get(cms.types[vm.type].form, Path.pathInForm));\n                if (vm.extend) merge(field, vm.extend);\n                vm.fields = [field];\n\n                if (vm.class && vm.class !== '') _.merge(vm.fields[0], {templateOptions: {class: vm.class}});\n            }\n\n\n        },\n        controllerAs: 'vm'\n    };\n}\n\nexport default directive;\n\n\n/** WEBPACK FOOTER **\n ** ./components/cms-main/cms-form-path.directive.js\n **/","module.exports = (__webpack_require__(2))(339);\n\n\n/*****************\n ** WEBPACK FOOTER\n ** delegated ./node_modules/extend/index.js from dll-reference lib_lib\n ** module id = 131\n ** module chunks = 0\n **/","module.exports = (__webpack_require__(2))(59);\n\n\n/*****************\n ** WEBPACK FOOTER\n ** delegated ./node_modules/angular-file-saver/dist/angular-file-saver.bundle.js from dll-reference lib_lib\n ** module id = 132\n ** module chunks = 0\n **/","import 'angular-ui-bootstrap';\nimport 'jstree';\nimport 'jstree-bootstrap-theme/dist/themes/proton/style.min.css'\nimport 'ng-js-tree';\nimport 'ui-select';\nimport 'ui-select/dist/select.min.css';\n\nconst module = angular\n    .module('components.cmsSitemap', ['ui.bootstrap', 'ngJsTree', 'ui.select'])\n    .directive('cmsSitemap', directive);\n\nimport template from './tpl.html';\n\ndirective.$inject = ['$http', '$uibModal', '$timeout', 'cms'];\n\nfunction directive($http, $uibModal, $timeout, cms) {\n    controller.$inject = [];\n    function controller() {\n        const vm = this;\n\n        vm.openSitemap = function () {\n            function modalCtrl($scope, $uibModalInstance) {\n                $scope.cancel = function () {\n                    $uibModalInstance.dismiss('cancel');\n                };\n                $scope.refresh = function () {\n                    $http.get(`/cms-site-map`).then(({data})=> {\n                        $scope.tree = [data.tree];\n                        $scope.templates = data.templates;\n                        $timeout(() => $scope.treeConfig.version++);\n                    })\n                }\n                $http.get(`/cms-site-map`).then(({data})=> {\n                    $scope.tree = [data.tree];\n                    $timeout(() => $scope.treeConfig.version++);\n                });\n\n                $scope.templates = cms.data.templates;\n                $scope.baseUrlPath = cms.data.baseUrlPath;\n                $scope.open = function () {\n                    location.href = `${$scope.baseUrlPath}/${$scope.node.path}`;\n                }\n                $scope.template = {};\n                $scope.ignoreModelChanges = () => false;\n                $scope.treeConfig = {\n                    core: {\n                        themes: {name: 'proton', responsive: true},\n                        animation: true,\n                        check_callback: true\n                    },\n                    plugins: [],\n                    version: 1\n                }\n                $scope.onFileSelect = function (files) {\n                    //files: an array of files selected, each file has name, size, and type.\n                    const [file] = files;\n                    cms.uploadFile(file, $scope.node.path, () => {\n                        console.log('upload successful');\n                        $scope.refresh();\n                    })\n                }\n                $scope.selectNode = function (e, select) {\n                    $timeout(() =>\n                        $scope.node = (select && select.node) ? select.node.original : null);\n                }\n                $scope.makeTemplate = function (templateName) {\n                    $http.post('/cms-make-template', {path: $scope.node.path, name: templateName})\n                        .then(() => {\n                            console.log('make template successful');\n                            $scope.refresh();\n                        })\n                }\n                $scope.createPage = function (templatePage, pageName) {\n                    $http.post('/cms-create-page', {\n                        templatePage,\n                        path: `${$scope.node.path}${$scope.node.path !== '' ? '/' : ''}${pageName}`\n                    })\n                        .then(() => {\n                            console.log('make template successful');\n                            $scope.refresh();\n                        })\n                }\n                $scope.deletePage = function () {\n                    $http.post(`/cms-delete-page`, {path: $scope.node.path})\n                        .then(() => $scope.refresh())\n                }\n                $scope.renamePage = function (newPageName) {\n                    $http.post(`/cms-rename-page`, {path: $scope.node.path, name: newPageName})\n                        .then(() => $scope.refresh())\n                }\n            }\n\n            $uibModal.open({\n                animation: true,\n                template,\n                controller: modalCtrl,\n                windowClass: 'cms-window'\n            });\n        }\n\n    }\n\n    return {\n        replace: true,\n        restrict: 'A',\n        scope: {},\n        bindToController: {},\n        template: '<button ng-click=\"vm.openSitemap()\" class=\"btn btn-default navbar-btn\">Sitemap</button>',\n        controllerAs: 'vm',\n        controller\n    };\n}\n\nexport default module.name;\n\n\n\n/** WEBPACK FOOTER **\n ** ./components/cms-sitemap/module.js\n **/","module.exports = \"<div class=\\\"cms-wrapper animated fadeInRight cms-sidebar cms\\\">\\n    <button type=\\\"button\\\" class=\\\"btn btn-sm btn-white cms-close-position\\\"\\n            ng-click=\\\"cancel()\\\">\\n        <i class=\\\"fa fa-times\\\"></i>\\n    </button>\\n\\n    <div class=\\\"col-xs-6 col-sm-4 pull-right cms-controll-panel-right\\\">\\n        <div ng-show=\\\"node\\\">\\n            <h4>Information: </h4>\\n            <h5 style=\\\"word-break: break-all;\\\">Name: {{node.text}}</h5>\\n            <h5 style=\\\"word-break: break-all;\\\">Type: {{node.type}}</h5>\\n            <h5 style=\\\"word-break: break-all;\\\">Path: {{node.path}}</h5>\\n            <br>\\n\\n            <div class=\\\"btn-group\\\">\\n                <button class=\\\"btn btn-xs btn-white cms-btn-bottom\\\"\\n                        ng-click=\\\"open()\\\">\\n                    Open page\\n                </button>\\n                <button class=\\\"btn btn-xs btn-white cms-btn-bottom\\\"\\n                        ng-click=\\\"deletePage()\\\">\\n                    Delete\\n                </button>\\n            </div>\\n            <form role=\\\"form\\\" ng-submit=\\\"makeTemplate(templateName);templateName = '';\\\">\\n                <button class=\\\"btn btn-xs btn-white cms-btn-bottom\\\"\\n                        type=\\\"submit\\\" style=\\\"position: absolute;right: 15px;\\\"\\n                        ng-disabled=\\\"!templateName\\\">\\n                    Make template page\\n                </button>\\n                <input ng-model=\\\"templateName\\\" type=\\\"text\\\" class=\\\"form-control input-xs\\\" placeholder=\\\"template name\\\">\\n            </form>\\n            <form role=\\\"form\\\" ng-submit=\\\"createPage(template.selected, pageName);pageName = '';\\\">\\n                <ui-select class=\\\"cms-select\\\" ng-model=\\\"template.selected\\\" theme=\\\"bootstrap\\\" ng-disabled=\\\"disabled\\\"\\n                           style=\\\"min-width: 60px;\\\">\\n                    <ui-select-match placeholder=\\\"Select a template page\\\">{{$select.selected}}</ui-select-match>\\n                    <ui-select-choices repeat=\\\"_template in templates\\\">\\n                        {{_template}}\\n                    </ui-select-choices>\\n                </ui-select>\\n                <button class=\\\"btn btn-xs btn-white cms-btn-bottom\\\"\\n                        type=\\\"submit\\\" style=\\\"position: absolute;right: 15px;\\\"\\n                        ng-disabled=\\\"!pageName || !template.selected\\\">\\n                    Create new page\\n                </button>\\n                <input ng-model=\\\"pageName\\\" type=\\\"text\\\" class=\\\"form-control input-xs\\\" placeholder=\\\"page name\\\">\\n            </form>\\n\\n            <form role=\\\"form\\\" ng-submit=\\\"renamePage(newPageName);newPageName = '';\\\">\\n                <button class=\\\"btn btn-xs btn-white cms-btn-bottom\\\"\\n                        type=\\\"submit\\\" style=\\\"position: absolute;right: 15px;\\\"\\n                        ng-disabled=\\\"!newPageName\\\">\\n                    Rename\\n                </button>\\n                <input ng-model=\\\"newPageName\\\" type=\\\"text\\\" class=\\\"form-control input-xs\\\" placeholder=\\\"page name\\\">\\n            </form>\\n\\n            <form role=\\\"form\\\" ng-submit=\\\"onFileSelect(files);\\\">\\n                <button class=\\\"btn btn-xs btn-white cms-btn-bottom\\\"\\n                        type=\\\"submit\\\" style=\\\"position: absolute;right: 15px;\\\">\\n                    Up\\n                </button>\\n                <input type=\\\"file\\\" ngf-select ng-model=\\\"files\\\"\\n                       ngf-multiple=\\\"true\\\" name=\\\"file\\\" class=\\\"form-control input-xs\\\"\\n                       placeholder=\\\"file upload\\\">\\n            </form>\\n\\n        </div>\\n    </div>\\n\\n    <h2>Sitemaps:</h2>\\n\\n    <div js-tree=\\\"treeConfig\\\" ng-model=\\\"tree\\\"\\n         tree-events=\\\"changed:selectNode\\\"></div>\\n</div>\\n\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./components/cms-sitemap/tpl.html\n ** module id = 134\n ** module chunks = 0\n **/","const module = angular\n    .module('components.cmsEditState', ['ui.select'])\n    .directive('cmsEditState', directive);\n\nimport template from './tpl.html';\n\ndirective.$inject = ['cms'];\n\nfunction directive(cms) {\n    controller.$inject = [];\n    function controller() {\n        const vm = this;\n        vm.editState = cms.editState;\n        vm.modes = _.map(Enum.EditMode, (v, k) => ({label: k, value: v}));\n        vm.onSelect = function ({value}) {\n            cms.changeEditMode(value);\n        }\n    }\n\n    return {\n        replace: true,\n        restrict: 'A',\n        scope: {},\n        bindToController: {},\n        template,\n        controllerAs: 'vm',\n        controller\n    };\n}\n\nexport default module.name;\n\n\n\n/** WEBPACK FOOTER **\n ** ./components/cms-edit-state/module.js\n **/","module.exports = \"<div style=\\\"margin-top: 7px;cursor: pointer;\\\">\\n    <ui-select data-ng-model=\\\"vm.editState.editMode\\\" theme=\\\"bootstrap\\\" on-select=\\\"vm.onSelect($item)\\\">\\n        <ui-select-match placeholder=\\\"\\\">\\n            {{$select.selected.label}}&nbsp;&nbsp;&nbsp;\\n        </ui-select-match>\\n        <ui-select-choices data-repeat=\\\"item.value as item in vm.modes | filterBy: ['label']: $select.search\\\">\\n            <div ng-bind-html=\\\"item.label | highlight: $select.search\\\"></div>\\n        </ui-select-choices>\\n    </ui-select>\\n</div>\\n\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./components/cms-edit-state/tpl.html\n ** module id = 136\n ** module chunks = 0\n **/","import 'angular-ui-bootstrap';\nimport 'jstree';\nimport 'jstree-bootstrap-theme/dist/themes/proton/style.min.css'\nimport 'ng-js-tree';\nimport 'ui-select';\nimport 'ui-select/dist/select.min.css';\nimport mainModule from '../cms-main/module'\nimport cmsElementEdit from '../cms-element-edit/module';\nimport cmsList from './cms-list';\nimport _importService from './importService';\nimport _exportService from './exportService';\n\nconst module = angular\n    .module('components.cmsAdmin', ['ui.bootstrap', 'ngJsTree', 'ui.select', mainModule, cmsElementEdit])\n    .factory('importService', _importService)\n    .factory('exportService', _exportService)\n    .directive('cmsAdmin', directive)\n    .directive('cmsList', cmsList);\n\nimport template from './tpl.html';\nimport QueryBuilder from \"../../common/cms/QueryBuilder\";\n\ndirective.$inject = ['cms', '$uibModal', '$timeout', 'formService', 'importService', 'exportService'];\n\nfunction directive(cms, $uibModal, $timeout, formService, importService, exportService) {\n    controller.$inject = [];\n    function controller() {\n        const vm = this;\n\n        vm.openAdminPage = function () {\n            function modalCtrl($scope, $uibModalInstance) {\n                $scope.data = {\n                    list: []\n                }\n                $scope.cancel = function () {\n                    $uibModalInstance.dismiss('cancel');\n                };\n\n                $scope.tree = cms.getAdminList();\n\n                // $timeout(() => $scope.treeConfig.version++);\n\n                $scope.ignoreModelChanges = () => false;\n                $scope.treeConfig = {\n                    core: {\n                        themes: {name: 'proton', responsive: true},\n                        animation: true,\n                        check_callback: true\n                    },\n                    plugins: [],\n                    version: 1\n                }\n                $scope.get = _.get;\n\n                $scope.refresh = (onlyChangePage = false, changeAdminList = false) => {\n\n                    //$timeout(function () {\n                    if (!$scope.node) return;\n\n                    setTimeout(() => {\n                        $scope.data.list = [];\n                        $scope.$digest();\n                    });\n\n                    $scope.data.loading = true;\n\n                    $scope.element = {};\n\n                    if (changeAdminList) {\n                        $timeout(() => {\n                            $scope.tree = cms.getAdminList();\n                            $scope.treeConfig.version++;\n                        })\n\n                    }\n\n                    let paramsBuilder = new QueryBuilder().part(false).limit($scope.page.limit).page($scope.page.currentPage).query($scope.node.query);\n                    if (cms.types[$scope.node.type].lean) paramsBuilder.lean();\n                    _.each($scope.queries, q => {\n                        if (q.model) {\n                            const val = _.get(q.model, q.form[0].key);\n                            if (val && val.hasOwnProperty('_id') && !val._id) return;\n                            if (!val) return;\n\n                            if (q.form[0].key === 0 && _.endsWith(q.path, '.field')) q.path = q.path.replace('.field', '');\n\n                            if (q.fn) {\n                                const result = q.fn(val, _.dropRight(q.path.split('\\.'), 1).join('\\.'), q.path.split('\\.').pop());\n                                if (result.populate) {\n                                    paramsBuilder.populate(result.populate);\n                                } else if (result.$where) {\n                                    paramsBuilder.query(result);\n                                } else {\n                                    paramsBuilder.query({[q.path]: result});\n                                }\n                            } else if (val.name !== 'None') {\n                                paramsBuilder.query({[q.path]: val._id || val});\n                            }\n                        }\n                    })\n                    if (!_.isEmpty($scope.search.text)) {\n                        paramsBuilder.search($scope.search.text);\n                    }\n\n                    console.time('test');\n                    cms.loadElements($scope.node.type, (list) => {\n                        console.timeEnd('test');\n                        $scope.data.loading = false;\n                        setTimeout(function () {\n\n                            $scope.data.list.push(...list);\n                            if ($scope.showAs.type === 'element') {\n                                $scope.selectElement($scope.data.list[0]._id);\n                            }\n                            $scope.$digest();\n\n                        })\n\n                    }, paramsBuilder);\n\n                    // number of pages;\n                    if (!onlyChangePage) cms.countElements($scope.node.type, (count) => {\n                        $timeout(function () {\n                            $scope.page.size = count;\n                        })\n                    }, paramsBuilder);\n                    //});\n\n\n                }\n\n                $scope.watchs = [];\n\n                // onclick\n                $scope.selectNode = function (e, select) {\n                    const _node = JsonFn.clone((select && select.node) ? select.node.original : null);\n                    $scope.node = _.get($scope.tree, _node.path);\n                    const config = getConfig();\n\n\n                    $scope.elementClass = cms.types[$scope.node.type].info.elementClass;\n\n                    $scope.showAs.type = 'table';\n                    if (config && config.showAs) $scope.showAs.type = config.showAs;\n\n\n                    $scope.watchs.forEach(listen => listen());\n                    $scope.watchs.length = 0;\n\n                    $scope.queries = null;\n\n                    let manualQuery = false;\n\n                    if (config && config.query) {\n                        $scope.queries = JsonFn.clone(config.query.filter(q => q.choice === 'builtIn').map(q => q.builtIn).map(k => _.find(cms.types[$scope.node.type].queries, {path: k}) || _.find(cms.types[$scope.node.type].paths, {path: k})), true);\n\n                        $scope.queries.forEach((q, index) => {\n                            q.form = !q.form ? [angular.copy(_.get(cms.types[$scope.node.type].form, q.pathInForm))] : [q.form];\n                            if (q.form[0].default) q.model = {[q.form[0].key]: q.form[0].default};\n                            if (q.form[0].defaultValue) {\n                                q.model = {[q.form[0].key]: q.form[0].defaultValue};\n                                manualQuery = true;\n                            }\n\n                            if (q.defaultValue) {\n                                q.model = {[q.form[0].key]: q.defaultValue};\n                                manualQuery = true;\n                            }\n\n                            _.merge(q.form[0], {templateOptions: {class: 'col-xs-3'}});\n                            var listen = $scope.$watch(`queries[${index}].model`, function (m1, m2) {\n                                if (typeof m2 === 'undefined') return;\n                                $scope.refresh();\n                            }, true);\n                            $scope.watchs.push(listen);\n                        });\n                    }\n\n                    if (!manualQuery) {\n                        $scope.refresh();\n                    } else {\n                        $scope.$apply();\n                    }\n\n                }\n\n\n                $scope.remove = function (e) {\n                    _.remove($scope.data.list, e);\n                }\n                $scope.add = function () {\n                    cms.createElement($scope.node.type, {}, model => {\n                        formService.edit(model._id, $scope.node.type, () => $scope.refresh());\n                    })\n                }\n                function getConfig() {\n                    return _.find(Types.Config.list, {type: $scope.node.type});\n                }\n\n                $scope.setting = function () {\n                    const config = getConfig();\n                    if (config) {\n                        formService.edit(config._id, 'Config', () => $scope.refresh(false, true));\n                    } else {\n                        cms.getType('Config', null, ({_id}) => {\n                            formService.edit(_id, 'Config', () => $scope.refresh(false, true));\n                        }, {type: $scope.node.type});\n                    }\n                }\n\n                $scope.export = function () {\n                    exportService.start();\n                    //cms.exportAll();\n                }\n\n                $scope.import = function () {\n                    //cms.importAll();\n                    importService.start();\n                }\n\n                $scope.deleteAll = function () {\n                    cms.deleteElements($scope.node.type, () => $scope.refresh());\n                }\n\n                $scope.search = {text: ''};\n                // search\n                $scope.$watch('search.text', function (tmpStr) {\n                    $scope.refresh();\n                }, true);\n\n                // pagination\n                $scope.page = {\n                    limit: 25,\n                    currentPage: 1\n                };\n\n                // show as\n                $scope.showAs = {\n                    type: 'table'\n                }\n\n                $scope.getTitle = cms.getTitle;\n\n                $scope.selectElement = function (_id) {\n                    $timeout(() => {\n                        $scope.element._id = null;\n                        $timeout(() => {\n                            $scope.element._id = _id;\n                        });\n                    });\n                }\n\n            }\n\n            $uibModal.open({\n                animation: true,\n                template,\n                controller: modalCtrl,\n                windowClass: 'cms-window'\n            });\n        }\n\n        if (cms.data.online.autoOpenAdmin) vm.openAdminPage();\n\n        window._openAdminPage = function () {\n            vm.openAdminPage();\n        }\n    }\n\n    return {\n        replace: true,\n        restrict: 'A',\n        scope: {},\n        bindToController: {},\n        template: '<a ng-click=\"vm.openAdminPage()\">Admin</a>',\n        controllerAs: 'vm',\n        controller\n    };\n}\n\nexport default module.name;\n\n\n\n/** WEBPACK FOOTER **\n ** ./components/cms-admin/module.js\n **/","import template from './cms-list.html';\ndirective.$inject = ['cms', 'formService'];\n\nfunction directive(cms, formService) {\n    controller.$inject = [];\n    function controller() {\n        const vm = this;\n    }\n\n    return {\n        replace: true,\n        restrict: 'A',\n        scope: {},\n        bindToController: {},\n        template,\n        controllerAs: 'vm',\n        controller\n    };\n}\n\nexport default directive;\n\n\n/** WEBPACK FOOTER **\n ** ./components/cms-admin/cms-list.js\n **/","module.exports = \"\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./components/cms-admin/cms-list.html\n ** module id = 139\n ** module chunks = 0\n **/","import template from './importService.html';\n\nfunction service($http, $timeout, cms, $uibModal) {\n    function start() {\n        function modalCtrl($scope, $uibModalInstance) {\n            $scope.refresh = function () {\n                $http.get(`/cms-site-map`).then(({data})=> {\n                    $scope.tree = [data.tree];\n                    $timeout(() => $scope.treeConfig.version++);\n                })\n            }\n            $scope.refresh();\n\n            $scope.treeConfig = {\n                core: {\n                    themes: {name: 'proton', responsive: true},\n                    animation: true,\n                    check_callback: true\n                },\n                plugins: [],\n                version: 1\n            }\n\n            $scope.selectNode = function (e, select) {\n                const _node = JsonFn.clone((select && select.node) ? select.node.original : null);\n                $scope.url = _node.path;\n            }\n\n            $scope.choose = function () {\n                $uibModalInstance.close($scope.url);\n            };\n\n            $scope.cancel = function () {\n                $uibModalInstance.dismiss('cancel');\n            };\n        }\n\n        function typesChooseCtrl($scope, $uibModalInstance, url) {\n            $scope.treeConfig = {\n                core: {\n                    themes: {name: 'proton', responsive: true},\n                    animation: true,\n                    check_callback: true\n                },\n                plugins: [\"checkbox\"],\n                version: 1\n            }\n\n            $scope.refresh = function () {\n                $http.post(`/cms-import/types`, {url}).then(({data})=> {\n                    $scope.tree = data.map(type => ({text: type}));\n                    $timeout(() => $scope.treeConfig.version++);\n                })\n            }\n\n            $scope.refresh();\n\n            $scope.selectNode = function (e, select) {\n                const _node = JsonFn.clone((select && select.node) ? select.node.original : null);\n\n            }\n\n            $scope.choose = function () {\n                let _arr = $scope.treeInstance.jstree(true).get_checked();\n                _arr = _arr.map(id => $scope.treeInstance.jstree(true).get_node(id).text);\n                $uibModalInstance.close(_arr);\n            };\n\n            $scope.cancel = function () {\n                $uibModalInstance.dismiss('cancel');\n            };\n        }\n\n        var modalInstance = $uibModal.open({\n            size: 'lg',\n            animation: true,\n            template,\n            controller: modalCtrl\n\n\n\n        });\n\n\n        modalInstance.result.then(function (url) {\n            const modal2 = $uibModal.open({\n                size: 'lg',\n                animation: true,\n                template,\n                controller: typesChooseCtrl,\n                resolve: {url: () => url}\n            });\n            modal2.result.then((types) => {\n                cms.importAll(types, url);\n            })\n        });\n    }\n\n    return {\n        start\n    }\n}\n\nexport default service;\n\n\n/** WEBPACK FOOTER **\n ** ./components/cms-admin/importService.js\n **/","module.exports = \"<div style=\\\"padding: 20px\\\">\\n    <div class=\\\"panel panel-default\\\">\\n        <div class=\\\"panel-body\\\">\\n            <div js-tree=\\\"treeConfig\\\" ng-model=\\\"tree\\\"\\n                 tree=\\\"treeInstance\\\"\\n                 tree-events=\\\"changed:selectNode\\\"></div>\\n        </div>\\n    </div>\\n    <br><br>\\n    <button type=\\\"button\\\" class=\\\"btn btn-primary submit-button\\\" ng-click=\\\"choose()\\\">Choose</button>\\n    <button type=\\\"button\\\" class=\\\"btn btn-primary\\\" ng-click=\\\"cancel()\\\">Cancel</button>\\n</div>\\n\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./components/cms-admin/importService.html\n ** module id = 141\n ** module chunks = 0\n **/","import template from './exportService.html';\n\nfunction service($http, $timeout, cms, $uibModal) {\n    function start() {\n        function modalCtrl($scope, $uibModalInstance, cms) {\n            $scope.data = {\n                types: []\n            }\n            $scope.types = Object.keys(cms.types).map(k => ({name: k, value: k}));\n\n            const types = Object.keys(cms.types).map(k => ({text: k, value: k}));\n\n            $scope.choose = function () {\n                $uibModalInstance.close({filename: $scope.filename, types: $scope.data.types});\n            };\n\n            $scope.cancel = function () {\n                $uibModalInstance.dismiss('cancel');\n            };\n\n            $scope.options = {};\n\n            $scope.fields = [{\n                key: 'types',\n                type: 'tree',\n                templateOptions: {\n                    label: '',\n                    class: 'col-xs-12',\n                    options: types\n                }\n            }]\n        }\n\n        var modalInstance = $uibModal.open({\n            size: 'lg',\n            animation: true,\n            template,\n            controller: modalCtrl\n        });\n\n\n        modalInstance.result.then(function ({filename, types}) {\n            cms.exportAll(filename, types);\n        });\n    }\n\n    return {\n        start\n    }\n}\n\nexport default service;\n\n\n/** WEBPACK FOOTER **\n ** ./components/cms-admin/exportService.js\n **/","module.exports = \"<div style=\\\"padding: 20px\\\">\\n\\n    <div class=\\\"panel panel-default\\\">\\n        <div class=\\\"panel-body\\\">\\n            <form role=\\\"form\\\" class=\\\"form-horizontal\\\">\\n                <div class=\\\"form-group\\\">\\n                    <label class=\\\"col-sm-12\\\">Filename:</label>\\n                    <div class=\\\"col-sm-12\\\"><input type=\\\"text\\\" ng-model=\\\"filename\\\" class=\\\"form-control\\\"></div>\\n                </div>\\n                <div class=\\\"form-group\\\">\\n                    <label class=\\\"col-sm-12\\\">Select Types:</label>\\n                    <div class=\\\"cms-neutral\\\">\\n                        <formly-form model=\\\"data\\\" fields=\\\"fields\\\" form=\\\"form\\\" options=\\\"options\\\"></formly-form>\\n                    </div>\\n                </div>\\n            </form>\\n        </div>\\n    </div>\\n\\n\\n    <br><br>\\n    <button type=\\\"button\\\" class=\\\"btn btn-primary submit-button\\\" ng-click=\\\"choose()\\\">Choose</button>\\n    <button type=\\\"button\\\" class=\\\"btn btn-primary\\\" ng-click=\\\"cancel()\\\">Cancel</button>\\n</div>\\n\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./components/cms-admin/exportService.html\n ** module id = 143\n ** module chunks = 0\n **/","module.exports = \"<div class=\\\"cms-wrapper animated fadeInRight cms-sidebar cms\\\">\\n    <button type=\\\"button\\\" class=\\\"btn btn-sm btn-white cms-close-position\\\"\\n            ng-click=\\\"cancel()\\\">\\n        <i class=\\\"fa fa-times\\\"></i>\\n    </button>\\n\\n    <br>\\n    <div class=\\\"row\\\">\\n        <div class=\\\"col-xs-3 cms-panel\\\">\\n            <div class=\\\"panel panel-primary\\\">\\n                <div class=\\\"panel-heading\\\">Types</div>\\n                <div class=\\\"panel-body\\\">\\n                    <div js-tree=\\\"treeConfig\\\" ng-model=\\\"tree\\\"\\n                         tree-events=\\\"changed:selectNode\\\" tree=\\\"treeInstance\\\"></div>\\n                </div>\\n            </div>\\n        </div>\\n        <div class=\\\"col-xs-9 cms-panel\\\">\\n            <div class=\\\"panel panel-primary\\\">\\n                <div class=\\\"panel-heading\\\">\\n                    <div class=\\\"cms-admin-right-panel\\\">\\n                        <label style=\\\"color: white\\\"> {{'Show' | translate}} : </label>\\n\\n                        <ui-select style=\\\"min-width: 50px;margin-left: 10px;margin-right: 10px;\\\"\\n                                   class=\\\"cms-select\\\" data-ng-model=\\\"page.limit\\\" theme=\\\"bootstrap\\\"\\n                                   on-select=\\\"refresh()\\\">\\n                            <ui-select-match placeholder=\\\"\\\">{{$select.selected}}&nbsp;&nbsp;</ui-select-match>\\n                            <ui-select-choices data-repeat=\\\"item in [10,25,50,100,200]\\\">{{item}}</ui-select-choices>\\n                        </ui-select>\\n\\n                        <ui-select style=\\\"min-width: 60px;margin-left: 10px;margin-right: 10px;\\\"\\n                                   class=\\\"cms-select\\\" data-ng-model=\\\"showAs.type\\\" theme=\\\"bootstrap\\\"\\n                                   on-select=\\\"refresh()\\\">\\n                            <ui-select-match placeholder=\\\"\\\">\\n                                {{$select.selected.label}}&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</ui-select-match>\\n                            <ui-select-choices\\n                                    data-repeat=\\\"item.value as item in [{value:'list',label:'List'},{value:'table',label:'Table'},{value:'element',label:'Element'}]\\\">\\n                                {{item.label}}\\n                            </ui-select-choices>\\n                        </ui-select>\\n\\n                        <div class=\\\"btn-group btn-group-xs\\\" style=\\\"margin-top: -12px;margin-right: 10px;\\\">\\n                            <button type=\\\"button\\\" class=\\\"btn btn-white\\\" ng-click=\\\"setting()\\\">{{'Setting' | translate}}\\n                            </button>\\n                            <button type=\\\"button\\\" class=\\\"btn btn-white dropdown-toggle\\\" data-toggle=\\\"dropdown\\\">\\n                                <span class=\\\"caret\\\"></span>\\n                            </button>\\n                            <ul class=\\\"dropdown-menu\\\" role=\\\"menu\\\" style=\\\"z-index: 10000 !important;\\\">\\n                                <li><a href ng-click=\\\"deleteAll()\\\">{{'DeleteAll' | translate}}</a></li>\\n                                <li><a href ng-click=\\\"import()\\\">Import</a></li>\\n                                <li><a href ng-click=\\\"export()\\\">Export</a></li>\\n\\n                            </ul>\\n                        </div>\\n\\n                        <button class=\\\"btn btn-white btn-xs\\\" ng-click=\\\"add()\\\">\\n                            {{'Add' | translate}}\\n                        </button>\\n\\n                    </div>\\n\\n                    <input type=\\\"text\\\" class=\\\"form-control input-xs\\\"\\n                           style=\\\"margin-left: 10px;width: 100px;display: inline-block;\\\"\\n                           ng-model=\\\"search.text\\\" ng-model-options=\\\"{debounce: 300}\\\" placeholder=\\\"search ...\\\">\\n\\n                    <div ng-if=\\\"queries && queries.length > 0\\\">\\n                        <hr style=\\\"margin-top: 10px;margin-bottom: 5px;\\\">\\n\\n                        <div class=\\\"cms-admin-heading-form\\\" style=\\\"height: 60px;\\\">\\n                            <formly-form ng-repeat=\\\"query in queries track by $index\\\" model=\\\"query.model\\\" fields=\\\"query.form\\\"\\n                                         form=\\\"form\\\"\\n                                         options=\\\"options\\\">\\n                            </formly-form>\\n                        </div>\\n                    </div>\\n\\n                </div>\\n                <div class=\\\"panel-body\\\" ng-if=\\\"node\\\">\\n\\n                    <div style=\\\"width: 100%;overflow-x: auto\\\" ng-if=\\\"showAs.type === 'table'\\\">\\n                        <table class=\\\"table cms-admin-table\\\">\\n                            <thead>\\n                            <tr>\\n                                <th ng-repeat=\\\"col in node.columns track by $index\\\" ng-bind=\\\"col.label\\\"></th>\\n                                <th>Edit</th>\\n                            </tr>\\n                            </thead>\\n                            <tbody>\\n                            <tr ng-repeat=\\\"element in data.list track by $index\\\">\\n                                <td ng-repeat=\\\"col in node.columns track by $index\\\">\\n                                <span cms-direct-editable=\\\"model.{{col.value}}\\\"\\n                                      cms-value=\\\"element[col.value]\\\"\\n                                      cms-ref=\\\"{{element._id}}\\\"\\n                                      cms-type=\\\"{{node.type}}\\\"></span>\\n                                </td>\\n                                <td>\\n                                    <div cms-editor=\\\"{ref: element._id, type: node.type}\\\"\\n                                         cms-remove=\\\"remove(element)\\\"></div>\\n                                </td>\\n                            </tr>\\n                            </tbody>\\n                        </table>\\n                    </div>\\n\\n                    <div ng-show=\\\"data.loading\\\">\\n                        <img src=\\\"/build/images/ajax-loader.gif\\\">\\n                    </div>\\n\\n                    <div class=\\\"cms-panel-list-content\\\" ng-if=\\\"showAs.type === 'list'\\\">\\n                        <div ng-repeat=\\\"element in data.list track by $index\\\"\\n                             ng-class=\\\"elementClass\\\"\\n                             cms-element=\\\"{ref: element._id, type: node.type, containers: {}}\\\"\\n                             dnd-moved=\\\"remove(element)\\\"\\n                             inline=\\\"false\\\"></div>\\n                    </div>\\n\\n                    <div class=\\\"\\\" ng-if=\\\"showAs.type === 'element'\\\">\\n                        <button class=\\\"btn cms-btn btn-primary btn-outline btn-xs\\\" style=\\\"margin-right: 10px;\\\"\\n                                ng-repeat=\\\"e in data.list track by $index\\\"\\n                                ng-click=\\\"selectElement(e._id);\\\" ng-show=\\\"data.list.length > 1\\\">\\n                            {{getTitle(node.type, e._id)}}\\n                        </button>\\n                        <div ng-show=\\\"data.list.length > 1\\\">\\n                            <br><br>\\n                        </div>\\n\\n                        <div ng-if=\\\"element._id\\\"\\n                             cms-element=\\\"{ref: element._id, type: node.type, containers: {}}\\\"\\n                             inline=\\\"false\\\"></div>\\n                    </div>\\n\\n                    <div class=\\\"clearfix\\\"></div>\\n\\n                    <ul uib-pagination\\n                        ng-show=\\\"page.size > 1\\\"\\n                        total-items=\\\"page.size\\\"\\n                        ng-model=\\\"page.currentPage\\\"\\n                        class=\\\"pagination-sm\\\"\\n                        items-per-page=\\\"page.limit\\\"\\n                        ng-change=\\\"refresh(true)\\\"\\n                        max-size=\\\"10\\\"\\n                        boundary-link-numbers=\\\"true\\\"></ul>\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n\\n</div>\\n\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./components/cms-admin/tpl.html\n ** module id = 144\n ** module chunks = 0\n **/","import common from \"../../common/common.module\";\nimport cmsNav from \"./cms-nav.directive\";\nimport cmsAdmin from \"../cms-admin/module\";\nimport cmsTypes from \"../cms-types/module\";\nimport cmsSitemap from \"../cms-sitemap/module\";\nimport cmsEditState from \"../cms-edit-state/module\";\n\nconst module = angular\n    .module('components.cmsNav', [common, cmsAdmin, cmsTypes, cmsSitemap, cmsEditState])\n    .directive('cmsNav', cmsNav);\n\nexport default module.name;\n\n\n/** WEBPACK FOOTER **\n ** ./components/cms-nav/module.js\n **/","import template from './cms-nav.html';\ndirective.$inject = ['cms', '$timeout'];\nfunction directive(cms, $timeout) {\n    function link(scope, element, attr) {\n        var menu = cms.data.online.menu;\n\n        $timeout(() => {\n            $('.main-nav').css('top', menu.top);\n            $('.main-nav').css('right', menu.right);\n        }, 400);\n\n        $('body').css('padding-top', menu.bodyPaddingTop);\n        if (menu.inverse) $(element).find('.cms-menu').addClass('navbar-inverse');\n        if (menu.bottom) $(element).find('.cms-menu').removeClass('navbar-fixed-top').addClass('navbar-fixed-bottom');\n\n\n        const vm = scope.vm;\n        vm.toggleContainer = function () {\n            cms.editState.showContainerEdit = !cms.editState.showContainerEdit;\n        }\n\n        $(element).find('.cms-types-dropdown').on('show.bs.dropdown', function () {\n            $('body').addClass('dnd-mode');\n        });\n\n        $(element).find('.cms-types-dropdown').on('hide.bs.dropdown', function () {\n            $('body').removeClass('dnd-mode');\n        });\n    }\n\n    return {\n        replace: false,\n        restrict: 'A',\n        scope: {},\n        bindToController: {},\n        template,\n        controller: function () {\n        },\n        controllerAs: 'vm',\n        link\n    };\n}\n\n\nexport default directive;\n\n\n/** WEBPACK FOOTER **\n ** ./components/cms-nav/cms-nav.directive.js\n **/","module.exports = \"<div class=\\\"cms\\\">\\n    <nav role=\\\"navigation\\\" class=\\\"navbar navbar-fixed-top navbar-default cms-menu\\\">\\n        <div class=\\\"container\\\">\\n            <div class=\\\"navbar-header\\\">\\n                <button type=\\\"button\\\" data-toggle=\\\"collapse\\\" data-target=\\\"#dropdown_menu\\\" aria-expanded=\\\"false\\\"\\n                        aria-controls=\\\"navbar\\\" class=\\\"navbar-toggle collapsed\\\"><span\\n                        class=\\\"sr-only\\\">Toggle navigation</span><span class=\\\"icon-bar\\\"></span><span\\n                        class=\\\"icon-bar\\\"></span><span\\n                        class=\\\"icon-bar\\\"></span></button>\\n                <a href=\\\"#\\\" class=\\\"navbar-brand\\\">Cms Mon</a></div>\\n            <div id=\\\"dropdown_menu\\\" class=\\\"collapse navbar-collapse\\\">\\n                <ul class=\\\"nav navbar-nav\\\">\\n                    <li class=\\\"dropdown cms-types-dropdown\\\">\\n                        <a href=\\\"#\\\" data-toggle=\\\"dropdown\\\" role=\\\"button\\\" aria-expanded=\\\"false\\\"\\n                                            class=\\\"dropdown-toggle\\\">Types<span class=\\\"caret\\\"></span></a>\\n                        <ul role=\\\"menu\\\" cms-types=\\\"\\\" class=\\\"dropdown-menu\\\"></ul>\\n                    </li>\\n                    <li><a cms-admin>Admin</a></li>\\n                    <li><a href=\\\"#\\\" cms-sitemap>Sitemap</a></li>\\n                </ul>\\n                <ul class=\\\"nav navbar-nav navbar-right\\\">\\n                    <li>\\n                        <div cms-edit-state></div>\\n                    </li>\\n                    <li><button class=\\\"btn btn-default navbar-btn\\\"\\n                                style=\\\"margin-left: 10px\\\"\\n                                ng-click=\\\"vm.toggleContainer()\\\">Container</button></li>\\n                </ul>\\n            </div>\\n        </div>\\n    </nav>\\n</div>\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./components/cms-nav/cms-nav.html\n ** module id = 147\n ** module chunks = 0\n **/"],"sourceRoot":""}